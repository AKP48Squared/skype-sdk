<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"calling_model_abstract-model-type.js.html":{"id":"calling_model_abstract-model-type.js.html","title":"Source: calling/model/abstract-model-type.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: calling/model/abstract-model-type.js 'use strict'; /** * Base class for all the model classes; it must not be instantiated directly */ class AbstractModelType { /** * Copies attributes from generic javascript object to the corresponding instance attributes, * including instantiation of appropriate classes for class-specific attributes * * @param {Object} inputData - the input javascript object, perhaps deserialized JSON from the Calling service * @param {Object} objectClasses - helper object which maps content attribute names to proper constructors of their respective classes * */ populatePlainInput(inputData, objectClasses) { if(inputData == null) return; for (var key in inputData) { if (this.hasOwnProperty(key)) { var attribute = inputData[key]; var isObjectClass = objectClasses != null &amp;&amp; key in objectClasses; if(isObjectClass) { if(attribute instanceof Array) { var newArray = new Array(); attribute.forEach(function(item){ newArray.push(objectClasses[key](item)); }); this[key] = newArray; } else if (attribute != null){ var instance = objectClasses[key](attribute); this[key] = instance; } } else { this[key] = attribute; } } } } /** * sort of abstract method for validation of the object instances extending this base class * * @throws {TypeError} when called directly */ validate() { throw new TypeError('validate() not implemented'); } } module.exports = AbstractModelType; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"messaging_model_abstract-model-type.js.html":{"id":"messaging_model_abstract-model-type.js.html","title":"Source: messaging/model/abstract-model-type.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: messaging/model/abstract-model-type.js 'use strict'; /** * Base class for all the model classes; it must not be instantiated directly */ class AbstractModelType { /** * Copies attributes from generic javascript object to the corresponding instance attributes, * including instantiation of appropriate classes for class-specific attributes * * @param {Object} inputData - the input javascript object, perhaps deserialized JSON from the Calling service * @param {Object} objectClasses - helper object which maps content attribute names to proper constructors of their respective classes * */ populatePlainInput(inputData, objectClasses) { if(inputData == null) return; for (var key in inputData) { if (this.hasOwnProperty(key)) { var attribute = inputData[key]; var isObjectClass = objectClasses != null &amp;&amp; key in objectClasses; if(isObjectClass) { if(attribute instanceof Array) { var newArray = new Array(); attribute.forEach(function(item){ newArray.push(objectClasses[key](item)); }); this[key] = newArray; } else if (attribute != null){ var instance = objectClasses[key](attribute); this[key] = instance; } } else { this[key] = attribute; } } } } /** * sort of abstract method for validation of the object instances extending this base class * * @param context * @throws {TypeError} when called directly */ validate() { throw new TypeError('validate() not implemented'); } } module.exports = AbstractModelType; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"calling_model_actions.js.html":{"id":"calling_model_actions.js.html","title":"Source: calling/model/actions.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: calling/model/actions.js 'use strict'; const AbstractModelType = require('./abstract-model-type'); const ModelValidation = require('./model-validation'); const CallingModelEnums = require('./enums'); const CallingModelLimits = require('./limits'); const Prompt = require('./prompt'); const CollectDigits = require('./collect-digits'); const RecognitionOption = require('./recognition-option'); const Dmtfs = require('./dmtfs'); const Participant = require('./participant'); var actionOrdering = { 'reject' : -2, 'answer' : 1, 'answerAppHostedMedia': 1, 'placeCall': 1, 'videoSubscription': 1, 'playPrompt': 2, 'record': 2, 'recognize': 2, 'transfer': 2, 'hangup': 3 }; /** * Base class for various actions; it must not be instantiated directly * * @extends AbstractModelType * * @property {String} operationId - an operation Id needs to be specified by customer so that they can correlate outcome to the action. It becomes necessary when multiple actions are specified in one response body * @property {String} action - type of action * @property {Boolean} isStandAloneAction - flag to indicate whether this action must not be specified along with any other actions * @property {Object} additionalData - optional. Additional arbitrary data */ class ActionBase extends AbstractModelType { /** * Creates a new ActionBase instance; it is forbidden to call this constructor directly * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. * @param {Object} isStandAloneAction - true if the action is isolated and must not be part of the action list */ constructor(inputData, isStandAloneAction) { super(); this.isStandAloneAction = isStandAloneAction == null ? false: isStandAloneAction; this.operationId = null; this.action = null; this.additionalData = null; this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = []; errors = errors.concat(ModelValidation.validateString(context, this.operationId, 'ActionBase.operationId')); errors = errors.concat(ModelValidation.validateEnum(context, this.action, CallingModelEnums.ActionType, 'ActionBase.action')); errors = errors.concat(ModelValidation.validateGenericObject(context, this.additionalData, 'ActionBase.additionalData')); errors = errors.concat(ModelValidation.validateBoolean(context, this.isStandAloneAction, 'ActionBase.isStandAloneAction')); return errors; } } /** * This is the action which customers can specify to indicate that the server call bot should accept the call. * The media is hosted by the server call bot * * @extends ActionBase * * @property {String[]} AcceptModalityTypes - array of CallingModelEnums.ModalityType; The modality types the application will accept, Audio by default */ class Answer extends ActionBase { /** * Creates a new Answer action * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. * @param {Object} isStandAloneAction - true if the action is isolated and not part of the action list */ constructor(inputData, isStandAloneAction) { super(inputData, isStandAloneAction); this.action = CallingModelEnums.ActionType.Answer; this.acceptModalityTypes = [ CallingModelEnums.ModalityType.Audio ]; this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.ActionType.Answer) errors.push('Answer.type is set to invalid value ' + this.type); errors = errors.concat(ModelValidation.validateEnumArray(context, this.acceptModalityTypes, CallingModelEnums.ModalityType, 'Answer.acceptModalityTypes', [CallingModelEnums.ModalityType.Unknown, CallingModelEnums.ModalityType.VideoBasedScreenSharing])); return errors; } } /** * This is the action which customers can specify to indicate that the server call bot should accept the call but that the * application will host the media * * @extends ActionBase * * @property {Object} mediaConfiguration - opaque object to pass media negotation configuration from the application to the ExecutionAgent */ class AnswerAppHostedMedia extends Answer { /** * Creates a new AnswerAppHostedMedia action instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. * @param {Object} isStandAloneAction - true if the action is isolated and must not be part of the action list */ constructor(inputData, isStandAloneAction) { super(inputData, isStandAloneAction); this.action = CallingModelEnums.ActionType.AnswerAppHostedMedia; this.mediaConfiguration = null; this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.ActionType.AnswerAppHostedMedia) errors.push('AnswerAppHostedMedia.type is set to invalid value ' + this.type); errors = errors.concat(ModelValidation.validateGenericObject(context, this.mediaConfiguration, 'AnswerAppHostedMedia.mediaConfiguration', false)); if(this.mediaConfiguration != null &amp;&amp; ModelValidation.checkIfObject(this.mediaConfiguration)) { var stringMediaConfiguration = JSON.stringify(this.mediaConfiguration); if(stringMediaConfiguration != null &amp;&amp; stringMediaConfiguration.length &gt; CallingModelLimits.MediaConfigurationLength.Max) { errors.push('AnswerAppHostedMedia.mediaConfiguration exceeds after JSON serialization the maximum allowed length of' + AnswerAppHostedMedia.mediaConfiguration); } } return errors; } } /** * This is the action which customers can specify to indicate that the server call bot should hangup the call * * @extends ActionBase */ class Hangup extends ActionBase { /** * Creates a new Hangup action instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. * @param {Object} isStandAloneAction - true if the action is isolated and must not be part of the action list */ constructor(inputData, isStandAloneAction) { super(inputData, isStandAloneAction); this.action = CallingModelEnums.ActionType.Hangup; } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.ActionType.Hangup) errors.push('Hangup.type is set to invalid value ' + this.type); return errors; } } /** * This is the action which customers can specify to indicate that the server call bot should place an outgoing call * * @extends ActionBase * * @property {Object} source - Participant; MRI for the source of the call * @property {Object} target - Participant; MRI of the user to whom the call is to be placed * @property {String} subject - optional; subject of the call that is to be placed * @property {String} appId - AppId of the customer * @property {Number} initiateModalityTypes - optional, default: Audio ; the modality types the application want to present */ class PlaceCall extends ActionBase { /** * Creates a new PlaceCall action instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. * @param {Object} isStandAloneAction - true if the action is isolated and must not be part of the action list */ constructor(inputData, isStandAloneAction) { super(inputData, isStandAloneAction); this.action = CallingModelEnums.ActionType.PlaceCall; this.source = null; this.target = null; this.subject = null; this.initiateModalityTypes = [CallingModelEnums.ModalityType.Audio]; this.appId = null; this.populatePlainInput(inputData, { 'source': attrData =&gt; { return new Participant(attrData); }, 'target': attrData =&gt; { return new Participant(attrData); } }); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.ActionType.PlaceCall) errors.push('PlaceCall.type is set to invalid value ' + this.type); errors = errors.concat(ModelValidation.validateTypedObject(context, this.source, Participant, 'PlaceCall.source', 'Participant')); errors = errors.concat(ModelValidation.validateTypedObject(context, this.target, Participant, 'PlaceCall.target', 'Participant')); errors = errors.concat(ModelValidation.validateString(context, this.appId, 'PlaceCall.appId')); errors = errors.concat(ModelValidation.validateOptionalString(context, this.subject, 'PlaceCall.subject')); errors = errors.concat(ModelValidation.validateEnumArray(context, this.initiateModalityTypes, CallingModelEnums.ModalityType, 'PlaceCall.initiateModalityTypes', [CallingModelEnums.ModalityType.Unknown, CallingModelEnums.ModalityType.VideoBasedScreenSharing])); if(this.source != null &amp;&amp; !this.source.originator) errors.push('PlaceCall.source must have set originator to true'); if(this.target != null &amp;&amp; this.target.originator) errors.push('PlaceCall.target must have set originator to false'); return errors; } } /** * This is the action which customers can specify to indicate that the server call bot should play/tts out prompt(s) * * @extends ActionBase * * @property {Object[]} prompts - array of Prompt; List of prompts to play out */ class PlayPrompt extends ActionBase { /** * Creates a new PlayPrompt action instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. * @param {Object} isStandAloneAction - true if the action is isolated and must not be part of the action list */ constructor(inputData, isStandAloneAction) { super(inputData, isStandAloneAction); this.action = CallingModelEnums.ActionType.PlayPrompt; this.prompts = null; this.populatePlainInput(inputData, { 'prompts' : attrData =&gt; {return new Prompt(attrData);} }); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); errors = errors.concat(ModelValidation.validateTypedObjectArray(context, this.prompts, Prompt, 'PlayPrompt.prompts', 'Prompt')); if(this.type != null &amp;&amp; this.type != CallingModelEnums.ActionType.PlayPrompt) errors.push('PlayPrompt.type is set to invalid value ' + this.type); return errors; } } /** * This is the action which customers can specify to indicate that the server call bot should perform speech or dtmf recognition * * @extends ActionBase * * @property {Object} playPrompt - PlayPrompt; PlayPrompt action to be played out (if any) before recognition starts. Customers can choose to specify &quot;playPrompt&quot; action separately or specify as part of &quot;recognize&quot; - mostly all recognitions are preceeded by a prompt * @property {Boolean} bargeInAllowed - optional, default: true; specifies whether customers are allowed to enter choice before prompt finishes * @property {String} culture - optional, string from CallingModelEnums.Culture, default: EnUs; culture of Speech Recognizer to use * @property {Number} InitialSilenceTimeoutinSeconds - optional, default: 5; Maximum initial silence allowed from the time we start the recognition operation before we timeout and fail the operation (time for the prompt is excluded if any) * @property {Number} InterDigitTimeoutInSeconds - optional, default: 1; Maximum allowed time between digits if we are doing dtmf based choice recognition or CollectDigits recognition * @property {Object[]} choices - array of RecognitionOption, optional; list of choices to recognize against. Choices can be speech or dtmf based * @property {Object[]} choices - array of CollectDigits, optional; There is no choice based recognition. Rather collect all digits entered by user. Either CollectDigits or Choices must be specified. Both can not be specified */ class Recognize extends ActionBase { /** * Creates a new Recognize action instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. * @param {Object} isStandAloneAction - true if the action is isolated and must not be part of the action list */ constructor(inputData, isStandAloneAction) { super(inputData, isStandAloneAction); this.action = CallingModelEnums.ActionType.Recognize; this.playPrompt = null; this.bargeInAllowed = null; this.culture = null; this.initialSilenceTimeoutInSeconds = null; this.interDigitTimeoutInSeconds = null; this.choices = null; this.collectDigits = null; this.populatePlainInput(inputData, { 'playPrompt' : attrData =&gt; new PlayPrompt(attrData), 'choices' : attrData =&gt; new RecognitionOption(attrData), 'collectDigits' : attrData =&gt; new CollectDigits(attrData) }); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.ActionType.Recognize) errors.push('Recognize.type is set to invalid value ' + this.type); errors = errors.concat(ModelValidation.validateOptionalTypedObject(context, this.playPrompt, PlayPrompt, 'Recognize.playPrompt', 'PlayPrompt')); errors = errors.concat(ModelValidation.validateOptionalNumber(context, this.initialSilenceTimeoutInSeconds, 'Recognize.initialSilenceTimeoutInSeconds', CallingModelLimits.InitialSilenceTimeoutSec.Min)); errors = errors.concat(ModelValidation.validateOptionalNumber(context, this.interDigitTimeoutInSeconds, 'Recognize.interDigitTimeoutInSeconds', CallingModelLimits.InterDigitTimeoutSec.Min)); errors = errors.concat(ModelValidation.validateOptionalBoolean(context, this.bargeInAllowed, 'Recognize.bargeInAllowed')); errors = errors.concat(ModelValidation.validateOptionalEnum(context, this.culture, CallingModelEnums.Culture, 'Recognize.culture')); var choiceSpecified = this.choices != null; var collectDigitsSpecified = this.collectDigits != null; if(!choiceSpecified &amp;&amp; !collectDigitsSpecified) { errors.push('Neither Recognize.choices or Recognize.collectDigits is specified'); } else if(choiceSpecified &amp;&amp; collectDigitsSpecified) { errors.push('Both Recognize.choices or Recognize.collectDigits are specified'); } else if(choiceSpecified) { errors = errors.concat(ModelValidation.validateTypedObjectArray(context, this.choices, RecognitionOption, 'Recognize.choices', 'RecognitionOption')); if(errors.length == 0) errors = errors.concat(this.validateUniquenessOfChoices(context)); } else if(collectDigitsSpecified) { errors = errors.concat(ModelValidation.validateTypedObject(context, this.collectDigits, CollectDigits, 'Recognize.collectDigits', 'CollectDigits')); } return errors; } /** * validates whether the choice options in Recognize.choices are unique * called automatically as part of validate * * @returns {Array} - validation errors */ validateUniquenessOfChoices() { var errors = []; var dtmfsChoices = new Set(); var dtmfsAdded = 0; var speechChoices = new Set(); var speechChoicesAdded = 0; for (var i = 0; i &lt; this.choices.length; ++i) { if (this.choices[i].dtmfVariation != null) { dtmfsChoices.add(this.choices[i].dtmfVariation); ++dtmfsAdded; } if (this.choices[i].speechVariation != null) { this.choices[i].speechVariation.forEach(function (item) { speechChoices.add(item); ++speechChoicesAdded; }); } } if (dtmfsChoices.size != dtmfsAdded) { errors.push('Some dtmfs choices in the Recognize.choices are not unique'); } if (speechChoices.size != speechChoicesAdded) { errors.push('Some speech choices in the Recognize.choices are not unique'); } return errors; } } /** * This is the action which customers can specify to indicate that the server call bot should start recording user speech * * @extends ActionBase * * @property {Object} playPrompt - PlayPrompt; PlayPrompt action to be played (if any) before recognition starts. Customers can choose to specify &quot;playPrompt&quot; action separately or specify as part of &quot;recognize&quot; - mostly all recognitions are preceeded by a prompt * @property {Number} maxDurationInSeconds - optional, default: 180; maximum duration of recording * @property {Number} InitialSilenceTimeoutInSeconds - optional, default: 5; Maximum initial silence allowed from the time we start the recognition operation before we timeout and fail the operation (time for the prompt is excluded if any) * @property {Number} maxSilenceTimeoutInSeconds - optional, default: 1; Maximum allowed silence once the user has started speaking before we conclude the user is done recording * @property {String} recordingFormat - optional, string from CallingModelEnums.RecordingFormat, default: Wma; the format is which the recording is expected * @property {Boolean} transcribe - optional, default: false; if specified &quot;true&quot;, then we would attempt to transcribe the recording. * @property {Boolean} playBeep - optional, true: false; If specified &quot;true&quot;, then we would play a beep before starting recording operation * @property {String[]} stopTones - optional, array of dtmfs chars; stop patterns which users can punch to end recording */ class Record extends ActionBase { /** * Creates a new Record action instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. * @param {Object} isStandAloneAction - true if the action is isolated and must not be part of the action list */ constructor(inputData, isStandAloneAction) { super(inputData, isStandAloneAction); this.action = CallingModelEnums.ActionType.Record; this.playPrompt = null; this.maxDurationInSeconds = null; this.initialSilenceTimeoutInSeconds = null; this.maxSilenceTimeoutInSeconds = null; this.recordingFormat = null; this.transcribe = null; this.playBeep = null; this.stopTones = null; this.populatePlainInput(inputData, { 'playPrompt': attrData =&gt; { return new PlayPrompt(attrData); } }); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.ActionType.Record) errors.push('Record.type is set to invalid value ' + this.type); if(this.stopTones != null) { errors = errors.concat(Dmtfs.validateDtmfsArray(context, this.stopTones, 'Record.stopTones')); } errors = errors.concat(ModelValidation.validateOptionalTypedObject(context, this.playPrompt, PlayPrompt, 'Record.playPrompt', 'PlayPrompt')); errors = errors.concat(ModelValidation.validateOptionalNumber(context, this.maxDurationInSeconds, 'Record.maxDurationInSeconds', CallingModelLimits.RecordingDurationSec.Min, CallingModelLimits.RecordingDurationSec.Max)); errors = errors.concat(ModelValidation.validateOptionalNumber(context, this.initialSilenceTimeoutInSeconds, 'Record.initialSilenceTimeoutInSeconds', CallingModelLimits.InitialSilenceTimeoutSec.Min, CallingModelLimits.InitialSilenceTimeoutSec.Max)); errors = errors.concat(ModelValidation.validateOptionalNumber(context, this.maxSilenceTimeoutInSeconds, 'Record.maxSilenceTimeoutInSeconds', CallingModelLimits.SilenceTimeoutSec.Min, CallingModelLimits.SilenceTimeoutSec.Max)); errors = errors.concat(ModelValidation.validateOptionalBoolean(context, this.transcribe, 'Record.transcribe')); errors = errors.concat(ModelValidation.validateOptionalBoolean(context, this.playBeep, 'Record.playBeep')); errors = errors.concat(ModelValidation.validateOptionalEnum(context, this.recordingFormat, CallingModelEnums.RecordingFormat, 'Record.recordingFormat')); return errors; } } /** * This is the action which customers can specify to indicate that the server call bot should reject the call * * @extends ActionBase */ class Reject extends ActionBase { /** * Creates a new Reject action instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. * @param {Object} isStandAloneAction - true if the action is isolated and must not be part of the action list */ constructor(inputData, isStandAloneAction) { super(inputData, isStandAloneAction); this.action = CallingModelEnums.ActionType.Reject; } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.ActionType.Reject) errors.push('Reject.type is set to invalid value ' + this.type); return errors; } } /** * This is the action which customers can specify to indicate that the server call bot should transfer established * call. The transfer is attended - meaning if the transfer fails the bot is able to still interact with caller. * If transfer succeeds the call is automatically hang up. * * @extends ActionBase * * @property {Object} target - Participant class; new call recipient */ class Transfer extends ActionBase { /** * Creates a new Transfer action * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. * @param {Object} isStandAloneAction - true if the action is isolated and must not be part of the action list */ constructor(inputData, isStandAloneAction) { super(inputData, isStandAloneAction); this.action = CallingModelEnums.ActionType.Transfer; this.target = null; this.populatePlainInput(inputData, { 'target' : attrData =&gt; {return new Participant(attrData);}}); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.ActionType.Transfer) errors.push('Transfer.type is set to invalid value ' + this.type); errors = errors.concat(ModelValidation.validateTypedObject(context, this.target, Participant, 'Transfer.target', 'Participant')); if(errors.length == 0) { if(this.target.identity != null &amp;&amp; !this.target.identity.startsWith('8:')) { errors.push('Transfer.target identity must be user skype id, i.e. in form 8:&lt;id&gt;'); } if(this.target.originator != null &amp;&amp; this.target.originator == true) { errors.push('Transfer.target originator must be set to false'); } } return errors; } } /** * This is the action that is used for video subscription whatever it is * * @extends ActionBase * * @property {String} appState - optional. Opaque string to facilitate app developers to pass their custom data in this field back in the response * @property {Number} socketId - sequence ID of video socket. Index from 0-9 * @property {String} participantIdentity - optional, default: null; identity of the participant whose video is pinned if VideoMode is set to manual * @property {String} videoResolution - optional, string from CallingModelEnums.ResolutionFormat, default: Sd360p; indicates the video resolution format * @property {String} videoModality - optional, string from CallingModelEnums.ModalityType, default: Unknown; indicates whether the video is from the camera or from screen sharing * @property {String} videoSubscriptionMode - optional, string from CallingModelEnums.VideoSubscriptionMode, default: Manual; videoMode indicates whether the socket is pinned to a particular participant */ class VideoSubscription extends ActionBase { /** * Creates a new VideoSubscription action * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. * @param {Object} isStandAloneAction - true if the action is isolated and must not be part of the action list */ constructor(inputData, isStandAloneAction) { super(inputData, isStandAloneAction); this.appState = null; this.socketId = null; this.participantIdentity = null; this.videoSubscriptionMode = CallingModelEnums.VideoSubscriptionMode.Manual; this.videoModality = CallingModelEnums.ModalityType.Unknown; this.videoResolution = CallingModelEnums.ResolutionFormat.Sd360p; this.action = CallingModelEnums.ActionType.VideoSubscription; this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.ActionType.VideoSubscription) errors.push('VideoSubscription.type is set to invalid value ' + this.type); errors = errors.concat(ModelValidation.validateNumber(context, this.socketId, 'VideoSubscription.socketId', 0, 9)); errors = errors.concat(ModelValidation.validateEnum(context, this.videoResolution, CallingModelEnums.ResolutionFormat, 'VideoSubscription.videoResolution')); errors = errors.concat(ModelValidation.validateEnum(context, this.videoSubscriptionMode, CallingModelEnums.VideoSubscriptionMode, 'VideoSubscription.videoSubscriptionMode')); errors = errors.concat(ModelValidation.validateEnum(context,this.videoModality, CallingModelEnums.ModalityType, 'VideoSubscription.videoModality', [ CallingModelEnums.ModalityType.Audio ])); errors = errors.concat(ModelValidation.validateOptionalString(context, this.appState, 'VideoSubscription.appState', true, CallingModelLimits.AppStateLength.Max)); if(this.videoSubscriptionMode == CallingModelEnums.VideoSubscriptionMode.Manual) { errors = errors.concat(ModelValidation.validateString(context, this.participantIdentity, 'VideoSubscription.participantIdentity', false)); if(this.videoModality == CallingModelEnums.ModalityType.Unknown) errors.push('VideoSubscription.videoModality cannot be set Unknown with videoSubscriptionMode=Manual'); } if(this.videoSubscriptionMode == CallingModelEnums.VideoSubscriptionMode.Auto) { if(this.participantIdentity != null) errors.push('VideoSubscription.participantIdentity must not be set with videoSubscriptionMode=Auto'); if(this.videoModality != CallingModelEnums.ModalityType.Unknown) errors.push('VideoSubscription.videoModality must be set to Unknown with videoSubscriptionMode=Auto'); } return errors; } } /** * validates ordered list of actions * * @param {Object} context - validation context * @param {Object[]} actionArray - array of actions * @param {String} actionArrayName - optional name of the actions array to be used for validation error texts * * @returns {String[]} - validation errors * * @ignore */ function validateActionArray(context, actionArray, actionArrayName) { if(actionArrayName == null) actionArrayName = 'Action array'; var errors = ModelValidation.validateTypedObjectArray(context, actionArray, ActionBase, actionArrayName, 'ActionBase'); if(errors.length &gt; 0) return errors; if(actionArray.length == 1) return errors; var actionNamesSet = new Set(); actionArray.forEach(item =&gt; actionNamesSet.add(item.action)); // standalone action must not be part of the action list unless it is the only one on the list actionArray.forEach(function (item) { if (item.isStandAloneAction) errors.push( 'Standalone action of type ' + item.action + ' must not be specified with other actions in ' + actionArrayName); }); // make sure there are no duplicities if(actionNamesSet.size != actionArray.length) { errors.push('Some action types are used multiple times in the ' + actionArrayName); } // make sure answer and place call actions are not used together if(actionNamesSet.has(CallingModelEnums.ActionType.Answer) &amp;&amp; actionNamesSet.has(CallingModelEnums.ActionType.PlaceCall)) { errors.push('Answer and PlaceCall must not appear together in ' + actionArrayName); } // make sure that the actions are used in correct order var currentOrderValue = actionOrdering[actionArray[0].action]; var initialSign = Math.sign(currentOrderValue); for (var i = 1; i &lt; actionArray.length; ++i) { var nextOrderValue = actionOrdering[actionArray[i].action]; if(nextOrderValue &lt; currentOrderValue || initialSign != Math.sign(nextOrderValue)) { errors.push('Actions ' + actionArray[i-1].action + ' and ' + actionArray[i].action + ' are not in proper order in ' + actionArrayName); } currentOrderValue = nextOrderValue; } return errors; } /** * instantiates proper action class object from the passed generic object * * @param {Object} actionData - object, possibly the relevant part of deserialized JSON received from the Calling service * @param {Object} isStandAloneAction - true if the resulting action should be isolated and must not be part of the action list * * @returns {Object} appropriate instance of ActionBase extending class * * @throws Error if actionData are null, actionData.action is not set or is not from CallingModelEnums.ActionType */ function instantiateAction(actionData, isStandAlone) { if(actionData == null) { throw new Error('action data are null'); } else if(typeof actionData != 'object' || Array.isArray(actionData)) { throw new Error('Invalid type of the action data'); } else if(actionData.action == null) { throw new Error('action attribute in the action data is undefined or null'); } if(isStandAlone == null) isStandAlone = false; switch(actionData.action) { case CallingModelEnums.ActionType.Answer: return new Answer(actionData, isStandAlone); case CallingModelEnums.ActionType.AnswerAppHostedMedia: return new AnswerAppHostedMedia(actionData, isStandAlone); case CallingModelEnums.ActionType.Hangup: return new Hangup(actionData, isStandAlone); case CallingModelEnums.ActionType.PlaceCall: return new PlaceCall(actionData, isStandAlone); case CallingModelEnums.ActionType.PlayPrompt: return new PlayPrompt(actionData, isStandAlone); case CallingModelEnums.ActionType.Recognize: return new Recognize(actionData, isStandAlone); case CallingModelEnums.ActionType.Record: return new Record(actionData, isStandAlone); case CallingModelEnums.ActionType.Reject: return new Reject(actionData, isStandAlone); case CallingModelEnums.ActionType.Transfer: return new Transfer(actionData, isStandAlone); case CallingModelEnums.ActionType.VideoSubscription: return new VideoSubscription(actionData, isStandAlone); } throw new Error('Unsupported ' + actionData.action + ' action in the action data'); } module.exports = { ActionBase, Answer, AnswerAppHostedMedia, Hangup, PlaceCall, PlayPrompt, Recognize, Record, Reject, Transfer, VideoSubscription, validateActionArray, instantiateAction }; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"calling_model_operation-outcomes.js.html":{"id":"calling_model_operation-outcomes.js.html","title":"Source: calling/model/operation-outcomes.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: calling/model/operation-outcomes.js 'use strict'; const AbstractModelType = require('./abstract-model-type'); const ModelValidation = require('./model-validation'); const CallingModelEnums = require('./enums'); const DmftsValidation = require('./dmtfs'); /** * This base class has set of properties common to all the operation results * it must not be instantiated directly * * @extends AbstractModelType * * @property {String} id - the operation id which was specified when customer specified an action * @property {String} type - string from CallingModelEnums.OutcomeType. Outcome type identifier * @property {String} outcome - string from CallingModelEnums.Outcome. Outcome of the operation * @property {String} failureReason - optional. Reason for failure outcome if any */ class OperationOutcomeBase extends AbstractModelType { /** * Creates a new OperationOutcomeBase instance; it is forbidden to call the constructor directly * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(); this.type = null; this.id = null; this.outcome = null; this.failureReason = null; this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = []; errors = errors.concat(ModelValidation.validateString(context, this.id, 'OperationOutcomeBase.id')); errors = errors.concat(ModelValidation.validateEnum(context, this.type, CallingModelEnums.OutcomeType, 'OperationOutcomeBase.type')); errors = errors.concat(ModelValidation.validateEnum(context, this.outcome, CallingModelEnums.Outcome, 'OperationOutcomeBase.outcome')); errors = errors.concat(ModelValidation.validateOptionalString(context, this.failureReason, 'OperationOutcomeBase.failureReason')); return errors; } } /** * This class is result of the answerAppHostedMedia action returned back to the customer CallBack url * * @extends OperationOutcomeBase * */ class AnswerAppHostedMediaOutcome extends OperationOutcomeBase { /** * Creates a new AnswerAppHostedMediaOutcome instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(inputData); this.type = CallingModelEnums.OutcomeType.AnswerAppHostedMediaOutcome; } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.OutcomeType.AnswerAppHostedMediaOutcome) errors.push('AnswerAppHostedMediaOutcome.type is set to invalid value ' + this.type); return errors; } } /** * This class is result of the answer action returned back to the customer CallBack url * * @extends OperationOutcomeBase * */ class AnswerOutcome extends OperationOutcomeBase { /** * Creates a new AnswerOutcome instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(inputData); this.type = CallingModelEnums.OutcomeType.AnswerOutcome; } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.OutcomeType.AnswerOutcome) errors.push('AnswerOutcome.type is set to invalid value ' + this.type); return errors; } } /** * This class is result of the hangup action returned back to the customer CallBack url * * @extends OperationOutcomeBase * */ class HangupOutcome extends OperationOutcomeBase { /** * Creates a new HangupOutcome instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(inputData); this.type = CallingModelEnums.OutcomeType.HangupOutcome; } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.OutcomeType.HangupOutcome) errors.push('HangupOutcome.type is set to invalid value ' + this.type); return errors; } } /** * This class is result of the placeCall action returned back to the customer CallBack url * * @extends OperationOutcomeBase * * @property {String[]} acceptedModalityTypes - CallingModelEnums.ModalityType; different modalities which were accepted by the remote end */ class PlaceCallOutcome extends OperationOutcomeBase { /** * Creates a new PlaceCallOutcome instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(inputData); this.type = CallingModelEnums.OutcomeType.PlaceCallOutcome; this.acceptedModalityTypes = null; this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.OutcomeType.PlaceCallOutcome) errors.push('PlayPromptOutcome.type is set to invalid value ' + this.type); if(this.outcome != null &amp;&amp; this.outcome == CallingModelEnums.Outcome.Success) { errors = errors.concat(ModelValidation.validateEnumArray(context, this.acceptedModalityTypes, CallingModelEnums.ModalityType, 'PlaceCallOutcome.acceptedModalityTypes')); } return errors; } } /** * This class is result of the playPrompt action returned back to the customer CallBack url * * @extends OperationOutcomeBase * * @property {String[]} acceptedModalityTypes - CallingModelEnums.ModalityType; different modalities which were accepted by the remote end */ class PlayPromptOutcome extends OperationOutcomeBase { /** * Creates a new PlayPromptOutcome instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(inputData); this.type = CallingModelEnums.OutcomeType.PlayPromptOutcome; } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.OutcomeType.PlayPromptOutcome) errors.push('PlayPromptOutcome.type is set to invalid value ' + this.type); return errors; } } /** * This is a part of the &quot;recognize&quot; action outcome. This is specified if the customer had specified any recognition options. * * @extends AbstractModelType * * @property {String} completionReason - CallingModelEnums.RecognitionCompletionReason; completion reason of the recognition operation * @property {string} choiceName - choice that was recognized (if any) */ class ChoiceOutcome extends AbstractModelType { /** * Creates a new ChoiceOutcome instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(); this.completionReason = null; this.choiceName = null; this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = ModelValidation.validateEnum(context, this.completionReason, CallingModelEnums.RecognitionCompletionReason, 'ChoiceOutcome.completionReason'); errors = errors.concat(ModelValidation.validateOptionalString(context, this.choiceName, 'ChoiceOutcome.choiceName')); return errors; } } /** * This is a part of the &quot;recognize&quot; action outcome. This is specified if the customer had specified any collectDigits operation * * @extends AbstractModelType * * @property {String} completionReason - CallingModelEnums.DigitCollectionCompletionReason; completion reason of the recognition operation * @property {string} digits - digits collected (if any) */ class CollectDigitsOutcome extends AbstractModelType { /** * Creates a new CollectDigitsOutcome instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(); this.completionReason = null; this.digits = null; this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = ModelValidation.validateEnum(context, this.completionReason, CallingModelEnums.DigitalCollectionCompletionReason, 'CollectDigitsOutcome.completionReason'); errors = errors.concat(ModelValidation.validateOptionalString(context, this.digits, 'CollectDigitsOutcome.digits')); return errors; } } /** * This class is result of the recognize action returned back to the customer CallBack url * * @extends OperationOutcomeBase * * @property {ChoiceOutcome} [choiceOutcome] - The result of the choice based recognition if specified in the original action. * @property {CollectDigitsOutcome} [collectDigitsOutcome] - The result of the collectDigits recognition if specified in the original action. */ class RecognizeOutcome extends OperationOutcomeBase { /** * Creates a new RecognizeOutcome instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(inputData); this.type = CallingModelEnums.OutcomeType.RecognizeOutcome; this.choiceOutcome = null; this.collectDigitsOutcome = null; this.populatePlainInput(inputData, { 'choiceOutcome': outcome =&gt; new ChoiceOutcome(outcome), 'collectDigitsOutcome': outcome =&gt; new CollectDigitsOutcome(outcome) }); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.OutcomeType.RecognizeOutcome) errors.push('RecognizeOutcome.type is set to invalid value ' + this.type); if(this.outcome != null &amp;&amp; this.outcome == CallingModelEnums.Outcome.Success) { var isChoiceOutcome = this.choiceOutcome !== null; var isCollectDigitsOutcome = this.collectDigitsOutcome !== null; if(isChoiceOutcome &amp;&amp; isCollectDigitsOutcome) { errors.push('Both RecognizeOutcome.choiceOutcome and RecognizeOutcome.collectDigitsOutcome are set'); } else if(!(isChoiceOutcome || isCollectDigitsOutcome)) { errors.push('Neither RecognizeOutcome.choiceOutcome or RecognizeOutcome.collectDigitsOutcome is set'); } else { if(isChoiceOutcome) { errors = errors.concat(ModelValidation.validateTypedObject(context, this.choiceOutcome, ChoiceOutcome, 'RecognizeOutcome.choiceOutcome', 'ChoiceOutcome')); } if(isCollectDigitsOutcome) { errors = errors.concat(ModelValidation.validateTypedObject(context, this.collectDigitsOutcome, CollectDigitsOutcome, 'RecognizeOutcome.collectDigitsOutcome', 'CollectDigitsOutcome')); if(this.collectDigitsOutcome != null &amp;&amp; typeof this.collectDigitsOutcome.digits == 'string' &amp;&amp; this.collectDigitsOutcome.digits.length &gt; 0) errors = errors.concat(DmftsValidation.validateDtmfsArray(context, this.collectDigitsOutcome.digits.split(''), 'RecognizeOutcome.collectDigitsOutcome')); } } } return errors; } } /** * If transcription was requested in the &quot;record&quot; action, this is the outcome included in the &quot;recordOutcome&quot; * * @extends AbstractModelType * * @property {String} outcome - string from CallingModelEnums.Outcome. Outcome of the operation * @property {String} completionReason - CallingModelEnums.TranscriptionCompletionReason; completion reason of the record operation * @property {String} text - text transcription if the recognize action was successful * @property {Boolean} hasProfanity - if the transcription text has profane words tagged by 'profane' tag * @property {String} confidence - string from CallingModelEnums.Confidence. Confidence of the transcription if successful */ class TranscriptionOutcome extends AbstractModelType { /** * Creates a new TranscriptionOutcome instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(); this.outcome = null; this.completionReason = null; this.text = null; this.hasProfanity = false; this.confidence = CallingModelEnums.Confidence.High; this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = ModelValidation.validateBoolean(context, this.hasProfanity, 'TranscriptionOutcome.hasProfanity'); errors = errors.concat(ModelValidation.validateEnum(context, this.outcome, CallingModelEnums.Outcome, 'TranscriptionOutcome.outcome')); errors = errors.concat(ModelValidation.validateEnum(context, this.completionReason, CallingModelEnums.TranscriptionCompletionReason, 'TranscriptionOutcome.completionReason')); errors = errors.concat(ModelValidation.validateEnum(context, this.confidence, CallingModelEnums.Confidence, 'TranscriptionOutcome.confidence')); if(this.outcome != null &amp;&amp; this.outcome == CallingModelEnums.Outcome.Success) { errors = errors.concat(ModelValidation.validateString(context, this.text, 'TranscriptionOutcome.text')); } else { if(this.text != null) errors.push('TranscriptionOutcome.text must not be set when outcome is failure'); } return errors; } } /** * This class is result of the record action returned back to the customer CallBack url * * @extends OperationOutcomeBase * * @property {String} outcome - string from CallingModelEnums.Outcome. Outcome of the operation * @property {String} completionReason - CallingModelEnums.RecordingCompletionReason; completion reason of the record operation * @property {Number} lengthOfRecordingInSecs - if recording was successful, this indicates length of recorded audio * @property {Object} transcription - TranscriptionOutcome class; if transcription was requested, this indicates transcription outcome */ class RecordOutcome extends OperationOutcomeBase { /** * Creates a new RecordOutcome instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(inputData); this.type = CallingModelEnums.OutcomeType.RecordOutcome; this.completionReason = null; this.lengthOfRecordingInSecs = null; this.transcription = null; this.populatePlainInput(inputData, { 'transcription' : attrData =&gt;{return new TranscriptionOutcome(attrData);} }); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.OutcomeType.RecordOutcome) errors.push('RecordOutcome.type is set to invalid value ' + this.type); errors = errors.concat(ModelValidation.validateEnum(context, this.completionReason, CallingModelEnums.RecordingCompletionReason, 'RecordOutcome.completionReason')); if(this.outcome != null &amp;&amp; this.outcome == CallingModelEnums.Outcome.Success) { errors = errors.concat(ModelValidation.validateNumber(context, this.lengthOfRecordingInSecs, 'RecordOutcome.lengthOfRecordingInSecs', 1)); errors = errors.concat(ModelValidation.validateOptionalTypedObject(context, this.transcription, TranscriptionOutcome, 'RecordOutcome.transcription', 'TranscriptionOutcome')); } else { errors = errors.concat(ModelValidation.validateOptionalNumber(context, this.lengthOfRecordingInSecs, 'RecordOutcome.lengthOfRecordingInSecs', null, 0)); if(this.transcription != null) errors.push('RecordOutcome.transcription must not be set when outcome is failure'); } return errors; } } /** * This class is result of the reject action returned back to the customer CallBack url * * @extends OperationOutcomeBase */ class RejectOutcome extends OperationOutcomeBase { /** * Creates a new RejectOutcome instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(inputData); this.type = CallingModelEnums.OutcomeType.RejectOutcome; } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.OutcomeType.RejectOutcome) errors.push('RejectOutcome.type is set to invalid value ' + this.type); return errors; } } /** * This class is result of the transfer action returned back to the customer CallBack url * * @extends OperationOutcomeBase */ class TransferOutcome extends OperationOutcomeBase { /** * Creates a new TransferOutcome instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(inputData); this.type = CallingModelEnums.OutcomeType.TransferOutcome; } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.OutcomeType.TransferOutcome) errors.push('TransferOutcome.type is set to invalid value ' + this.type); return errors; } } /** * This class is result of the videoSubscription action returned back to the customer CallBack url * * @extends OperationOutcomeBase */ class VideoSubscriptionOutcome extends OperationOutcomeBase { /** * Creates a new VideoSubscriptionOutcome instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(inputData); this.type = CallingModelEnums.OutcomeType.VideoSubscriptionOutcome; } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.OutcomeType.VideoSubscriptionOutcome) errors.push('VideoSubscriptionOutcome.type is set to invalid value ' + this.type); return errors; } } /** * If the customer's &quot;response&quot; fails validation, this is the outcome conveyed to the customer CallBack Url * * @extends OperationOutcomeBase */ class WorkflowValidationOutcome extends OperationOutcomeBase { /** * Creates a new WorkflowValidationOutcome instance * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(inputData); this.type = CallingModelEnums.OutcomeType.WorkflowValidationOutcome; } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); if(this.type != null &amp;&amp; this.type != CallingModelEnums.OutcomeType.WorkflowValidationOutcome) errors.push('WorkflowValidationOutcome.type is set to invalid value ' + this.type); return errors; } } /** * instantiates proper operation outcome class object from the passed generic object * * @param {Object} outcomeData - object, possibly the relevant part of deserialized JSON received from the Calling service * @returns {Object} appropriate instance of OperationOutcomeBase extending class * * @throws Error if outcomeData are null, outcomeData.type is not set or is not from CallingModelEnums.OutcomeType */ function instantiateOperationOutcome(outcomeData) { if(outcomeData == null) { throw new Error('outcome data are null'); } else if(typeof outcomeData != 'object' || Array.isArray(outcomeData)) { throw new Error('Invalid type of the outcome data'); } else if(outcomeData.type == null) { throw new Error('type attribute in the outcome data is undefined or null'); } switch(outcomeData.type) { case CallingModelEnums.OutcomeType.AnswerAppHostedMediaOutcome: return new AnswerAppHostedMediaOutcome(outcomeData); case CallingModelEnums.OutcomeType.AnswerOutcome: return new AnswerOutcome(outcomeData); case CallingModelEnums.OutcomeType.HangupOutcome: return new HangupOutcome(outcomeData); case CallingModelEnums.OutcomeType.PlaceCallOutcome: return new PlaceCallOutcome(outcomeData); case CallingModelEnums.OutcomeType.PlayPromptOutcome: return new PlayPromptOutcome(outcomeData); case CallingModelEnums.OutcomeType.RecognizeOutcome: return new RecognizeOutcome(outcomeData); case CallingModelEnums.OutcomeType.RecordOutcome: return new RecordOutcome(outcomeData); case CallingModelEnums.OutcomeType.RejectOutcome: return new RejectOutcome(outcomeData); case CallingModelEnums.OutcomeType.TransferOutcome: return new TransferOutcome(outcomeData); case CallingModelEnums.OutcomeType.VideoSubscriptionOutcome: return new VideoSubscriptionOutcome(outcomeData); case CallingModelEnums.OutcomeType.WorkflowValidationOutcome: return new WorkflowValidationOutcome(outcomeData); } throw new Error('Unsupported ' + outcomeData.type + ' outcome type in the outcome data'); } module.exports = { OperationOutcomeBase, AnswerAppHostedMediaOutcome, AnswerOutcome, HangupOutcome, PlaceCallOutcome, PlayPromptOutcome, RecognizeOutcome, ChoiceOutcome, CollectDigitsOutcome, RecordOutcome, TranscriptionOutcome, RejectOutcome, TransferOutcome, VideoSubscriptionOutcome, WorkflowValidationOutcome, instantiateOperationOutcome }; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"messaging_events_attachment.js.html":{"id":"messaging_events_attachment.js.html","title":"Source: messaging/events/attachment.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: messaging/events/attachment.js 'use strict'; const Event = require('./event'); /** * The posted attachment details. * * @extends Event * * @property {string} from - The message's sender. * @property {string} to - The message's recipient. Either bot's id or a group id. * @property {string} id - The attachment unique identifier * @property {string} attachmentName - The attachment name if any * @property {string} attachmentType - the attachment type * @property {array} views - available attachment 'views' and the sizes. Array of AttachmentViewInfo instances. * @property {string} eventTime - The event sent timestamp in ISO 8601 format. * @property {string} type - The event's type */ class Attachment extends Event { /** * Create an attachment event. * * @param {Object} event - The object received from Messaging Service. * @param {string} event.from - The message's sender. * @param {string} event.to - The message's recipient. Either bot's id or a group id. * @param {number} event.eventTime - The event sent timestamp. * @param {string} event.name - The attachment name (optional) * @param {number} event.attachmentType - The attachment type * @param {string} event.id - the attachment id that can be used for downloading the content * @param {string} event.views - the available attachment vires. */ constructor(event) { super(event); if (event.attachmentType == null) throw new Error('Missing mandatory field &quot;attachmentType&quot;'); if (event.views == null) throw new Error('Missing mandatory field &quot;views&quot;'); if (event.id == null) throw new Error('Missing mandatory field &quot;id&quot;'); if (event.eventTime == null) throw new Error('Missing mandatory field &quot;eventTime&quot;'); this.attachmentName = event.name; this.attachmentType = event.attachmentType; this.views = event.views; this.eventTime = event.eventTime; this.id = event.id; } } /** This event is emitted when a new attachment is posted. * @event BotService#attachment * @type {Attachment} */ module.exports = Attachment; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"messaging_bot.js.html":{"id":"messaging_bot.js.html","title":"Source: messaging/bot.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: messaging/bot.js 'use strict'; /** Class representing a bot. * * Passed to event handlers to simplify replying to the creator of the event. */ class Bot { /** * Create a bot. * * @param {string} replyTo - The username to whom the reply should be sent. * @param {MessagingService} messagingService - An instance of messaging service. */ constructor(replyTo, messagingService) { this._replyTo = replyTo; this._messagingService = messagingService; } /** * Send a reply to the user who created the original event. * For 1:1 chats it sends the reply to the creator of the original event. * For group chats it sends the reply to the group chat. * * @param {string} content - The content of the message. * @param {bool} [escape] - If true, content will be escaped to prevent &quot;&amp;&quot;, &quot;&lt;&quot;, and &quot;&gt;&quot; from breaking the message. * @param {BotService~sendMessageCallback} [callback] - The callback that handles the response. */ reply(content, escape, callback) { this._messagingService.send(this._replyTo, content, escape, callback); } replyWithAttachment(name, type, binaryContent, thumbnailContent, callback) { this._messagingService.sendAttachment(this._replyTo, name, type, binaryContent, thumbnailContent, callback); } /** * Send a message. Message can be sent to any user or group chat. * * @param {string} to - The recipient's username. * @param {string} content - The content of the message. If any html tags are present, they need to be valid or escaped (see `escape` parameter). * @param {bool} [escape] - If true, content will be escaped to prevent &quot;&amp;&quot;, &quot;&lt;&quot;, and &quot;&gt;&quot; from breaking the message. * @param {BotService~sendMessageCallback} [callback] - The callback that handles the response. */ send(to, content, escape, callback) { this._messagingService.send(to, content, escape, callback); } sendAttachment(to, name, type, binaryContent, thumbnailContent, callback) { this._messagingService.sendAttachment(to, name, type, binaryContent, thumbnailContent, callback); } } module.exports = Bot; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"bot-service.js.html":{"id":"bot-service.js.html","title":"Source: bot-service.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: bot-service.js 'use strict'; const EventEmitter = require('events').EventEmitter; const MessagingBotService = require('./messaging/messaging-service'); const CallingService = require('./calling/calling-service'); const eventTypes = require('./messaging/messaging-service-request-processor-v2').EventTypes; /** * BotService unifies events and commands for both messaging and calling. * * ### Messaging * For messaging events you can register multiple handlers, because * processing and replying to a message is done asynchronously. * Messaging events you can use are the following: * - [contactAdded]{@link BotService#event:contactAdded} * - [contactRemoved]{@link BotService#event:contactRemoved} * - [message]{@link BotService#event:message} * - [personalMessage]{@link BotService#event:personalMessage} * - [groupMessage]{@link BotService#event:groupMessage} * - [threadBotAdded]{@link BotService#event:threadBotAdded} * - [threadAddMember]{@link BotService#event:threadAddMember} * - [threadBotRemoved]{@link BotService#event:threadBotRemoved} * - [threadRemoveMember]{@link BotService#event:threadRemoveMember} * - [threadTopicUpdated]{@link BotService#event:threadTopicUpdated} * - [threadHistoryDisclosedUpdate]{@link BotService#event:threadHistoryDisclosedUpdate} * - [attachment]{@link BotService#event:attachment} * * For personal and group commands it's necessary to also provide a regular expression, * so there are helper function for that. * - [onPersonalCommand()]{@link BotService#onPersonalCommand} * - [onGroupCommand()]{@link BotService#onGroupCommand} * * ### Calling * Calling events are synchronous and you need to respond to each one. * To ensure there is exactly one handler, the interface for these events * is slightly different and instead of using node.js events we provide * methods for registering the handlers like [onIncomingCall()]{@link BotService#onIncomingCall}. * The complete list of calling events is as follows: * - [onIncomingCall()]{@link BotService#onIncomingCall} * - [onAnswerCompleted()]{@link BotService#onAnswerCompleted} * - [onRejectCompleted()]{@link BotService#onRejectCompleted} * - [onHangupCompleted()]{@link BotService#onHangupCompleted} * - [onPlayPromptCompleted()]{@link BotService#onPlayPromptCompleted} * - [onRecognizeCompleted()]{@link BotService#onRecognizeCompleted} * - [onRecordCompleted()]{@link BotService#onRecordCompleted} * - [onWorkflowValidationCompleted()]{@link BotService#onWorkflowValidationCompleted} * - [onCallStateChange()]{@link BotService#onCallStateChange} */ class BotService extends EventEmitter { /** * Create a new BotService instance. You don't have to specify both messaging and calling options if you need just one of them. * * @param {Object} configuration - Bot Platform configuration. * @param {Object} [configuration.messaging] - Configuration for messaging service. Mandatory only if you want to use messaging service. * @param {string} configuration.messaging.botId - The bot's id (e.g. &quot;28:trivia_bot&quot;). * @param {string} configuration.messaging.appId - The bot's application id for OAuth. * @param {string} configuration.messaging.appSecret - The bot's application secret for OAuth. * @param {number} configuration.messaging.requestTimeout - The https request timeout in milliseconds. * @param {Object} [configuration.calling] - Configuration for calling service. Mandatory only if you want to use calling service. * @param {string} configuration.calling.callbackUri - The url that will be sent with each request * as the callback url. Can be overriden in a workflow for each request. */ constructor(configuration) { super(); this.messagingBotService = null; if ('messaging' in configuration) { this.messagingBotService = new MessagingBotService(configuration.messaging); } this.callingBotService = null; if ('calling' in configuration) { this.callingBotService = new CallingService(configuration.calling.callbackUri); } let messagingEvents = []; for (let eventName in eventTypes) { messagingEvents.push(eventTypes[eventName]); } this.on('newListener', (event, listener) =&gt; { if (messagingEvents.indexOf(event) &gt; -1 &amp;&amp; this.messagingBotService !== null) { this.messagingBotService.on(event, listener); } }); this.on('removeListener', (event, listener) =&gt; { if (messagingEvents.indexOf(event) &gt; -1 &amp;&amp; this.messagingBotService !== null) { this.messagingBotService.removeListener(event, listener); } }); } // // Messaging // /** * Register handler for command in 1:1 chats (messaging). * Callback will be called if there is a message in any 1:1 that matches the regular expression. * * **Note:** If a command is matched, the [personalMessage]{@link BotService#event:personalMessage} event won't be emitted. * * @param {RegExp} regex - The regular expression that is used for matching 1:1 messages. * @param {BotService~commandCallback} callback - The callback that is called when a message is matched. */ onPersonalCommand(regex, callback) { if (this.messagingBotService !== null) { this.messagingBotService.onPersonalCommand(regex, callback); } else { throw new Error('Messaging not configured.'); } } /** * Register handler for command in group chats (messaging). * Callback will be called if there is a message in any group chat that matches the regular expression. * * **Note:** If a command is matched, the [groupMessage]{@link BotService#event:groupMessage} event won't be emitted. * * @param {RegExp} regex - The regular expression that is used for matching 1:1 messages. * @param {BotService~commandCallback} callback - The callback that is called when a message is matched. */ onGroupCommand(regex, callback) { if (this.messagingBotService !== null) { this.messagingBotService.onGroupCommand(regex, callback); } else { throw new Error('Messaging not configured.'); } } /** * Callback is called once the sent message is delivered / failed. * * @callback BotService~sendMessageCallback * * @param {Error} error - An error, if sending failed. */ /** * Send a message. Message can be sent to any user or group chat (messaging). * * @param {string} to - The recipient's username. * @param {string} content - The content of the message. If any html tags are present, they need to be valid or escaped (see `escape` parameter). * @param {bool} [escape] - If true, content will be escaped to prevent &quot;&amp;&quot;, &quot;&lt;&quot;, and &quot;&gt;&quot; from breaking the message. * @param {BotService~sendMessageCallback} callback - The callback that handles the response. */ send(to, content, escape, callback) { if (this.messagingBotService !== null) { this.messagingBotService.send(to, content, escape, callback); } else { throw new Error('Messaging not configured.'); } } /** * Callback for sending attachments. * * @callback BotService~attachmentSentCallback * * @param {Error} error - The error if there was one. * @param {AttachmentResponse} attachmentResponse - The response received after attachment was sent. */ /** * Send an attachment (media) to a user or group chat * * @param {string} to - The username or group id of recipient. * @param {string} name - The attachment's name, `null` means no name is provided. * @param {string} type - The attachment's type, must be 'Image' or 'Video'. * @param {Buffer} binaryContent - The content that should be sent (binary data). * @param {Buffer} [thumbnailContent] - The thumbnail for the sent content (binary data). * @param {BotService~attachmentSentCallback} callback - Callback that is called after the attachment is sent. */ sendAttachment(to, name, type, binaryContent, thumbnailContent, callback) { if (this.messagingBotService !== null) { this.messagingBotService.sendAttachment(to, name, type, binaryContent, thumbnailContent, callback); } else { throw new Error('Messaging not configured.'); } } /** * Callback for sending attachments and getting information about attachments. * * @callback BotService~attachmentInfoCallback * * @param {Error} error - The error if there was one. * @param {AttachmentInfo} attachmentInfo - The received information about the attachment. */ /** * Get information about an attachment. * * @param {string} attachmentId - The unique attachment identifier received from the response to [postAttachment()]{@link BotService~postAttachment} or from the [attachment]{@link BotService#event:attachment} event. * @param {BotService~attachmentInfoCallback} callback - The callback that is called after the information is received. */ getAttachmentInfo(attachmentId, callback) { if (this.messagingBotService !== null) { this.messagingBotService.getAttachmentInfo(attachmentId, callback); } else { throw new Error('Messaging not configured.'); } } /** * Callback for getting content of attachments. * * @callback BotService~attachmentContentCallback * * @param {Error} error - The error if there was one. * @param {Buffer} content - The content of the blob. */ /** * Get content of attachment (binary data). * * @param {string} attachmentId - The unique attachment identifier received from the response to [postAttachment()]{@link BotService~postAttachment} or from the [attachment]{@link BotService#event:attachment} event. * @param {string} viewId - The identifier of the attachment view (either 'original' or 'thumbnail') available in the attachment's info ({@link AttachmentInfo}). * @param {BotService~attachmentContentCallback} callback - The callback that is triggered after the attachment's content is downloaded. */ getAttachment(attachmentId, viewId, callback) { if (this.messagingBotService !== null) { this.messagingBotService.getAttachment(attachmentId, viewId, callback); } else { throw new Error('Messaging not configured.'); } } /** * Process request and emit events (messaging). * * @param {string | object} request - The body of the request received from messaging service. * * @emits BotService#event:contactAdded * @emits BotService#event:contactRemoved * @emits BotService#event:message * @emits BotService#event:personalMessage * @emits BotService#event:groupMessage * @emits BotService#event:threadBotAdded * @emits BotService#event:threadAddMember * @emits BotService#event:threadBotRemoved * @emits BotService#event:threadRemoveMember * @emits BotService#event:threadTopicUpdated * @emits BotService#event:threadHistoryDisclosedUpdate * @emits BotService#event:attachment */ processMessagingRequest(request) { if (this.messagingBotService !== null) { this.messagingBotService.processRequest(request); } else { throw new Error('Messaging not configured.'); } } // // Calling // /** * Callback to finish processing of events. * * @callback BotService~finishEventHandling * * @param {Error} error * @param {Workflow} workflow */ /** * Callback to finish notification processing. * @callback BotService~finishNotificationHandling * * @param {Error} error * @param {NotificationResponse} notificationResponse */ /** * Callback to handle calling events. * * @callback BotService~callNotificationHandler * * @param {ConversationResult} conversationResult - The result of the last workflow. * @param {Workflow} workflow - The new workflow that should be updated and sent. * @param {BotService~finishEventHandling} callback - The callback to finish the processing of the event. */ /** * Callback to handle calling events. * * @callback BotService~recordNotificationHandler * * @param {ConversationResult} conversationResult - The result of the last workflow. * @param {Buffer} record - The recorded audio in WMA format. * @param {Workflow} workflow - The new workflow that should be updated and sent. * @param {BotService~finishEventHandling} callback - The callback to finish the processing of the event. */ /** * Register handler for the &quot;answer action completed&quot; event (calling). * * You need to reply with an {@link Answer} action to incoming call to answer it. * After the {@link Answer} action is executed, you will get &quot;answer action completed&quot; event. * You need to implement this handler to be able to continue after answering the call. * * In your handler you will get a {@link ConversationResult} object, it contains an `operationOutcome` field that has all the details about the outcome. For this handler, it will be an instance of {@link AnswerOutcome} class. * * @param {BotService~callNotificationHandler} handler - The event handler. */ onAnswerCompleted(handler) { if (this.callingBotService !== null) { this.callingBotService.onAnswerCompleted(handler); } else { throw new Error('Calling not configured.'); } } /** * Callback to handle call state change. * * @callback BotService~callStateChangeCallback * * @param {CallStateChangeNotification} callStateChangeNotification * @param {NotificationResponse} notificationResponse * @param {BotService~finishNotificationHandling} callback - The event handler. */ /** * Register handler for call state change (calling). * * @param {BotService~callStateChangeCallback} handler */ onCallStateChange(handler) { if (this.callingBotService !== null) { this.callingBotService.onCallStateChange(handler); } else { throw new Error('Calling not configured.'); } } /** * Register handler for &quot;hangup action completed&quot; event (calling). * * During the call you can at any time send a {@link Hangup} action to end the call. * After the {@link Hangup} action is executed, you will get the &quot;hangup action completed&quot; event. * If you want to do some cleanup after the call is terminated, you need to implement a handler for this event. * * In your handler you will get a {@link ConversationResult} object, it contains an `operationOutcome` field that has all the details about the outcome. For this handler, it will be an instance of {@link HangupOutcome} class. * * **Note**: In your handler you still need to call the callback, but don't provide any workflow as the call is already terminated. * * @param {BotService~callNotificationHandler} handler - The event handler. */ onHangupCompleted(handler) { if (this.callingBotService !== null) { this.callingBotService.onHangupCompleted(handler); } else { throw new Error('Calling not configured.'); } } /** * Callback to handle incoming call (calling). * * @callback BotService~incomingCallHandler * * @param {Conversation} conversation - The incoming call. * @param {Workflow} workflow - The workflow for responding to the event. * @param {BotService~finishEventHandling} callback - The callback to finish processing of the event. */ /** * Register handler for incoming call (calling). * * You get an event for each incoming call and it's up to you to decide if you * want to answer or reject the call. You need to implement this handler to be * able to answer or reject incoming calls. * * @param {CallingBotService~incomingCallHandler} Event handler. */ onIncomingCall(handler) { if (this.callingBotService !== null) { this.callingBotService.onIncomingCall(handler); } else { throw new Error('Calling not configured.'); } } /** * Register handler for &quot;play prompt action completed&quot; event (calling). * * The registered handler will be called after a {@link PlayPrompt} action is executed. * * In your handler you will get a {@link ConversationResult} object, it contains an `operationOutcome` field that has all the details about the outcome. For this handler, it will be an instance of {@link PlayPromptOutcome} class. * * @param {BotService~callNotificationHandler} handler - The event handler. */ onPlayPromptCompleted(handler) { if (this.callingBotService !== null) { this.callingBotService.onPlayPromptCompleted(handler); } else { throw new Error('Calling not configured.'); } } /** * Register handler for &quot;recognize action completed&quot; event (calling). * * The registered handler will be called after a {@link Recognize} action is executed. * * In your handler you will get a {@link ConversationResult} object, it contains an `operationOutcome` field that has all the details about the outcome. For this handler, it will be an instance of {@link RecognizeOutcome} class. * * @param {BotService~callNotificationHandler} handler - The event handler. */ onRecognizeCompleted(handler) { if (this.callingBotService !== null) { this.callingBotService.onRecognizeCompleted(handler); } else { throw new Error('Calling not configured.'); } } /** * Register handler for &quot;record action completed&quot; event (calling). * * The registered handler will be called after a {@link Record} action is executed. * * In your handler you will get a {@link ConversationResult} object, it contains an `operationOutcome` field that has all the details about the outcome. For this handler, it will be an instance of {@link RecordOutcome} class. * * @param {BotService~recordNotificationHandler} handler - The event handler. */ onRecordCompleted(handler) { if (this.callingBotService !== null) { this.callingBotService.onRecordCompleted(handler); } else { throw new Error('Calling not configured.'); } } /** * Register handler for &quot;reject action completed&quot; event (calling). * * The registered handler will be called after an incoming call is rejected. * * In your handler you will get a {@link ConversationResult} object, it contains an `operationOutcome` field that has all the details about the outcome. For this handler, it will be an instance of {@link RejectOutcome} class. * * @param {BotService~callNotificationHandler} handler - The event handler. */ onRejectCompleted(handler) { if (this.callingBotService !== null) { this.callingBotService.onRejectCompleted(handler); } else { throw new Error('Calling not configured.'); } } /** * Register handler for &quot;workflow validation completed&quot; event (calling). * * The &quot;workflow validation completed&quot; event will be emitted only if you send * invalid {@link Workflow}. * * In your handler you will get a {@link ConversationResult} object, it contains an `operationOutcome` field that has all the details about the outcome. For this handler, it will be an instance of {@link WorkflowValidationOutcome} class. * * @param {BotService~callNotificationHandler} handler - The event handler. */ onWorkflowValidationCompleted(handler) { if (this.callingBotService !== null) { this.callingBotService.onWorkflowValidationCompleted(handler); } else { throw new Error('Calling not configured.'); } } /** * Callback to finish incoming call processing. * * If there is an error, the server should respond with 500, otherwise * it should return 201 and the responseMessage as the body. * * @callback BotService~processCallCallback * * @param {Error} error * @param {string} responseMessage */ /** * Process new incoming call. * * Processes new incoming call and emits a new &quot;incomingCall&quot; event. * Will call the handler registered by [onIncomingCall()]{@link BotService#onIncomingCall}. * * @param {object} content - The body of the request received from Bot platform. * @param {BotService~processCallCallback} */ processCall(content, callback) { if (this.callingBotService !== null) { this.callingBotService.processCall(content, callback); } else { throw new Error('Calling not configured.'); } } /** * Process new incoming callbacks. * * Process a new incoming callback and call proper event handler. * * @param {object} content - The body of the request received from Bot platform. * @param {additionalData} additionalData - The additional binary data received from Bot platform. * @param {BotService~processCallCallback} */ processCallback(content, additionalData, callback) { if (this.callingBotService !== null) { this.callingBotService.processCallback(content, additionalData, callback); } else { throw new Error('Calling not configured.'); } } } module.exports = BotService; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"messaging_messaging-service.js.html":{"id":"messaging_messaging-service.js.html","title":"Source: messaging/messaging-service.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: messaging/messaging-service.js /// &lt;reference path=&quot;../../typings/main.d.ts&quot; /&gt; 'use strict'; const debug = require('debug')('skype-sdk.MessagingService'); const EventEmitter = require('events').EventEmitter; const MessagingServiceClient = require('./messaging-service-client'); const MessagingServiceClientV2 = require('./messaging-service-client-v2'); const Bot = require('./bot'); const Message = require('./events/message'); const ContactNotification = require('./events/contact-notification'); const HistoryDisclosed = require('./events/history-disclosed'); const TopicUpdated = require('./events/topic-updated'); const UserAdded = require('./events/user-added'); const UserRemoved = require('./events/user-removed'); const eventTypes = require('./messaging-service-request-processor-v2').EventTypes; const WebhookEvents = require('./messaging-service-request-processor-v2'); /** * Class representing a messaging service. * * Handles communication with messaging service and emits events. */ class MessagingService extends EventEmitter { /** * Create an agent service. * * @param {Object} options - Configuration for messaging service. For additional optional arguments see {@link MessagingServiceClient} and {@link S2SClient}. * @param {string} options.botId - The bot's id (e.g. &quot;28:trivia_agent&quot;). * @param {string} options.messagingServiceVersion - optional, default 2; version of the messaging service to use * @param {number} options.siteId - The agent's Site ID, for server to server authentication. * @param {string} options.key - The path of the private key of the agent in PEM format. Used for server to server authentication. * @param {string} options.cert - The path of the certificate key of the agent in PEM format. Used for server to server authentication. */ constructor(options) { super(); this._messagingServiceVersion = options.messagingServiceVersion || 2; if (this._messagingServiceVersion == 1) { this._messagingServiceClient = new MessagingServiceClient(options); } else { this._messagingServiceClient = new MessagingServiceClientV2(options); } this._botId = options.botId.trim(); this._personalCommandMappings = []; this._groupCommandMappings = []; this.on('message', this._parseMessage); } /** * Register handler for command in 1:1 chats. * Callback will be called if there is a message in any 1:1 that matches the regular expression. * * @param {RegExp} regex - The regular exception that is used for matching 1:1 messages. * @param {BotService~commandCallback} callback - The callback that is called when a message is matched. */ onPersonalCommand(regex, callback) { this._personalCommandMappings.push({regex: regex, callback: callback}); } /** * Register handler for command in group chats. * Callback will be called if there is a message in any group chat that matches the regular expression. * * @param {RegExp} regex - The regular exception that is used for matching 1:1 messages. * @param {BotService~commandCallback} callback - The callback that is called when a message is matched. */ onGroupCommand(regex, callback) { this._groupCommandMappings.push({regex: regex, callback: callback}); } /** * Send a message. Message can be sent to any user or group chat. * * @param {string} to - The recipient's username. * @param {string} content - The content of the message. * @param {bool} [escape] - If true, content will be escaped to prevent &quot;&amp;&quot;, &quot;&lt;&quot;, and &quot;&gt;&quot; from breaking the message. * @param {MessagingServiceClient~sendMessageCallback} callback - The callback that handles the response. */ send(to, content, escape, callback) { if (escape) { content = content.replace(/&amp;/g, '&amp;amp;') .replace(/&lt;/g, '&amp;lt;') .replace(/&gt;/g, '&amp;gt;'); } this._messagingServiceClient.sendMessage(to, content, callback); } /** * Send an attachment (media) to a user or group chat * * @param {string} to - The username or group id of recipient. * @param {string} name - The attachment's name, null means no name is provided. * @param {string} type - The attachment's type, must be 'Image' or 'Video'. * @param {Buffer} binaryContent - The content that should be sent (binary data). * @param {Buffer} [thumbnailContent] - The thumbnail for the sent content (binary data). * @param {MessagingServiceClientV2~attachmentInfoCallback} callback - Callback that is called after the attachment is sent. */ sendAttachment(to, name, type, binaryContent, thumbnailContent, callback) { if (this._messagingServiceVersion === 2) { this._messagingServiceClient.postAttachment(to, name, type, binaryContent, thumbnailContent, callback); } else { callback(new Error('Posting of attachments is not available with current version of messaging service client.')); } } /** * Get information about an attachment. * * @param {string} attachmentId - The unique attachment identifier received from the response to [postAttachment()]{@link MessagingServiceClientV2~postAttachment} or from the [attachment]{@link BotService#event:attachment} event. * @param {MessagingServiceClientV2~attachmentInfoCallback} callback - The callback that is called after the information is received. */ getAttachmentInfo(attachmentId, callback) { if (this._messagingServiceVersion === 2) { this._messagingServiceClient.getAttachmentInfo(attachmentId, callback); } else { callback(new Error('Not available with current version of messaging service client.')); } } /** * Get content of attachment (binary data). * * @param {string} attachmentId - The unique attachment identifier received from the response to [postAttachment()]{@link MessagingServiceClientV2~postAttachment} or from the [attachment]{@link BotService#event:attachment} event. * @param {string} viewId - The identifier of the attachment view (either 'original' or 'thumbnail') available in the attachment's info ({@link AttachmentInfo}). * @param {MessagingServiceClientV2~attachmentContentCallback} callback - The callback that is triggered after the attachment's content is downloaded. */ getAttachment(attachmentId, viewId, callback) { if (this._messagingServiceVersion === 2) { this._messagingServiceClient.getAttachment(attachmentId, viewId, callback); } else { callback(new Error('Not available with current version of messaging service client.')); } } /** * Process request and emit events. * * @param {string | object} request - The body of the request received from Messaging service. * * @emits BotService#event:contactAdded * @emits BotService#event:contactRemoved * @emits BotService#event:message * @emits BotService#event:personalMessage * @emits BotService#event:groupMessage * @emits BotService#event:threadBotAdded * @emits BotService#event:threadAddMember * @emits BotService#event:threadBotRemoved * @emits BotService#event:threadRemoveMember * @emits BotService#event:threadTopicUpdated * @emits BotService#event:threadHistoryDisclosedUpdate */ processRequest(request) { let requestData; if (typeof request === 'object') { debug(`Processing new request ${JSON.stringify(request)}`); requestData = request; } else { debug(`Processing new request ${request}`); try { requestData = JSON.parse(request); } catch(e) { return this.emit('error', new Error(`Json parsing failed with &quot;${e.message}&quot;. Request: ${request}`)); } } if(this._messagingServiceVersion == 1) { let event = this._processRequestV1(request, requestData); this._emitWebhookEvent(event); } else if(this._messagingServiceVersion == 2) { debug('Processing event over v2.'); let events = WebhookEvents.processRequestData(this._botId, requestData); events.forEach(item =&gt; { this._emitWebhookEvent(item); }); } else { this.emit('error', new Error('Unsupported version of the Messaging service: ' + this._messagingServiceVersion )); } } _emitWebhookEvent(webhookEvent) { if(webhookEvent == null || webhookEvent.eventObject == null || webhookEvent.type === null) return; if(webhookEvent.type === 'error') { this.emit(webhookEvent.type, webhookEvent.eventObject); } else { this.emit(webhookEvent.type, new Bot(webhookEvent.replyTo, this), webhookEvent.eventObject); } } _processRequestV1(request, requestData) { if (!requestData.hasOwnProperty('type')) { return WebhookEvents.fromError(`Request cannot be parsed: ${request}`); } let eventType; if (/message/i.test(requestData.type)) { /** * This event is emitted for every received message. * @event BotService#message * * @param {Bot} bot * @param {Message} event */ debug('Parsed Message event.'); return WebhookEvents.fromData(eventTypes.Message, new Message(requestData), null); } else if (/ThreadAddMember/i.test(requestData.type)) { if (requestData.targets.indexOf(this._botId) !== -1) { /** * This event is emitted when the agent is added to group chat. * @event BotService#threadBotAdded * @param {Bot} bot * @param {UserAdded} event */ debug('Parsed ThreadBotAdded event.'); eventType = eventTypes.ThreadBotAdded; } else { /** * This event is emitted when some users are added to group chat. * @event BotService#threadAddMember * @param {Bot} bot * @param {UserAdded} event */ debug('Parsed ThreadAddMember event.'); eventType = eventTypes.ThreadMemberAdded; } return WebhookEvents.fromData(eventType, new UserAdded(requestData)); } else if (/ThreadRemoveMember/i.test(requestData.type)) { if (requestData.targets.indexOf(this._botId) !== -1) { /** * This event is emitted when the agent is removed from group chat. * @event BotService#threadBotRemoved * @param {Bot} bot * @param {UserRemoved} event */ debug('Parsed ThreadBotRemoved event.'); eventType = eventTypes.ThreadBotRemoved; } else { /** * This event is emitted when some users are removed from group chat. * @event BotService#threadRemoveMember * @param {Bot} bot * @param {UserRemoved} event */ debug('Parsed ThreadRemoveMember event.'); eventType = eventTypes.ThreadMemberRemoved; } return WebhookEvents.fromData(eventType, new UserRemoved(requestData)); } else if (/ThreadTopicUpdate/i.test(requestData.type)) { /** This event is emitted when the topic of a group chat is updated. * @event BotService#threadTopicUpdated * @param {Bot} bot * @param {TopicUpdated} event */ debug('Parsed ThreadTopicUpdate event.'); return WebhookEvents.fromData(eventTypes.ThreadTopicUpdate, new TopicUpdated(requestData)); } else if (/ThreadHistoryDisclosedUpdate/i.test(requestData.type)) { /** This event is emitted when the &quot;history disclosed&quot; option of a group chat is changed. * @event BotService#threadHistoryDisclosedUpdate * @param {Bot} bot * @param {HistoryDisclosed} event */ debug('Parsed ThreadHistoryDisclosedUpdate event.'); return WebhookEvents.fromData(eventTypes.ThreadHistoryDisclosedUpdate, new HistoryDisclosed(requestData)); } else if (/AgentContactNotification/i.test(requestData.type)) { /** * This event is emitted when users add the agent as a buddy. * * Example: * ```javascript * botkit.on('contactAdded', (bot, event) =&gt; { * bot.reply(`Hello ${event.fromDisplayName}, it's great that we are now buddies.`); * }); * ``` * * @event BotService#contactAdded * @param {Bot} bot * @param {ContactNotification} event */ /** * This event is emitted when users removes the agent from his contact list. * You won't be able to send a message to the user. * * Example: * ```javascript * botkit.on('contactRemoved', (bot, event) =&gt; { * console.log(`We lost user ${event.from}.`); * }); * ``` * * @event BotService#contactRemoved * @param {Bot} bot * @param {ContactNotification} event */ debug('Parsed AgentContactNotification event.'); if (requestData.action === 'add') { return WebhookEvents.fromData(eventTypes.ContactAdded, new ContactNotification(requestData), requestData.from); } else if (requestData.action === 'remove') { return WebhookEvents.fromData(eventTypes.ContactRemoved, new ContactNotification(requestData), requestData.from); } } return WebhookEvents.fromError('No event recognized: ' + request); } _parseMessage(agent, request) { let mappings = this._personalCommandMappings; /** * This event is emitted for every 1:1 chat message which isn't handled by any registered command. * @event BotService#personalMessage * @param {Bot} bot * @param {Message} event */ let defaultEvent = eventTypes.PersonalMessage; let replyTo = request.from; if (/@(p2p.)?thread.skype/.test(request.to)) { /** * This event is emitted for every group chat message which isn't handled by any registered command. * @event BotService#groupMessage * @param {Bot} bot * @param {Message} event */ mappings = this._groupCommandMappings; defaultEvent = eventTypes.GroupMessage; replyTo = request.to; } let found = false; mappings.forEach(mapping =&gt; { if (mapping.regex.test(request.content)) { mapping.regex.lastIndex = 0; found = true; mapping.callback(new Bot(replyTo, this), request); } }); if (!found) this.emit(defaultEvent, new Bot(replyTo, this), request); } // Callback definitions. /** * The callback called when a message matches a registered command. * * @callback BotService~commandCallback * * @param {Bot} bot - The bot for replying to the command. * @param {BotService~Message} request - The matched event. */ } module.exports = MessagingService; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"calling_model_callback-link.js.html":{"id":"calling_model_callback-link.js.html","title":"Source: calling/model/callback-link.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: calling/model/callback-link.js 'use strict'; const AbstractModelType = require('./abstract-model-type'); const ModelValidation = require('./model-validation'); /** * Callback link to call back the customer on, once we have performed the set of actions. * * @extends AbstractModelType * * @property {String} callBack - absolute http or https url */ class CallBackLink extends AbstractModelType { /** * Creates a new callback link * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(); this.callBack = null; this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = []; errors = errors.concat(ModelValidation.validateString(context, this.callBack, 'CallBackLink.callBack')); if(this.callBack != null &amp;&amp; !(/^https?:\\/\\//i.test(this.callBack))) errors.push('CallBackLink.callBack should be absolute URL but is ' + this.callBack); return errors; } } module.exports = CallBackLink; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"calling_calling-service.js.html":{"id":"calling_calling-service.js.html","title":"Source: calling/calling-service.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: calling/calling-service.js 'use strict'; const EventEmitter = require('events').EventEmitter; const debug = require('debug')('skype-sdk.calling.CallingService'); const inspect = require('util').inspect; const conversations = require('./model/conversation'); const notifications = require('./model/notifications'); const enums = require('./model/enums'); const Workflow = require('./model/workflow'); const CallBackLink = require('./model/callback-link'); /** * Class representing a calling bot service. * * Handles communication with Bot platform and emits events. */ class CallingService extends EventEmitter { /** * Create a bot service. * * @param {string} callbackUri - The url that will be sent with each request * as the callback url. Can be overriden in a workflow for each request. */ constructor(callbackUri) { super(); this.callbackUri = callbackUri; this.incomingCallHandler = null; this.callStateChangeHandler = null; this.answerCompletedHandler = null; this.hangupCompletedHandler = null; this.playPromptCompletedHandler = null; this.recognizeCompletedHandler = null; this.recordCompletedHandler = null; this.rejectCompletedHandler = null; this.workflowValidationCompletedHandler = null; } /** * Callback to finish processing of events. * * @callback CallingBotService~finishEventHandling * * @param {Error} error * @param {Workflow} workflow */ /** * Callback to handle incoming call. * * @callback CallingBotService~incomingCallHandler * * @param {Conversation} conversation - The incoming call. * @param {Workflow} workflow - The workflow for responding to the event. * @param {CallingBotService~finishEventHandling} callback - The callback to finish processing of the event. */ /** * Register handler for incoming call. * * @param {CallingBotService~incomingCallHandler} Event handler. */ onIncomingCall(handler) { this.incomingCallHandler = handler; } onCallStateChange(handler) { this.callStateChangeHandler = handler; } onAnswerCompleted(handler) { this.answerCompletedHandler = handler; } onHangupCompleted(handler) { this.hangupCompletedHandler = handler; } onPlayPromptCompleted(handler) { this.playPromptCompletedHandler = handler; } onRecognizeCompleted(handler) { this.recognizeCompletedHandler = handler; } onRecordCompleted(handler) { this.recordCompletedHandler = handler; } onRejectCompleted(handler) { this.rejectCompletedHandler = handler; } onWorkflowValidationCompleted(handler) { this.workflowValidationCompletedHandler = handler; } /** * Callback to finish incoming call processing. * * If there is an error, the server should respond with 500, otherwise * it should return 201 and the responseMessage as the body. * * @callback CallingBotService~processCallCallback * * @param {Error} error * @param {string} responseMessage */ /** * Process new incoming call. * * Processes new incoming call and emits a new &quot;incomingCall&quot; event. * * @param {object} content - The body of the request received from Bot platform. * @param {CallingBotService~processCallCallback} */ processCall(content, callback) { const conversation = new conversations.Conversation(content); const errors = conversation.validate(); if (errors.length !== 0) { debug(`Received conversation is invalid: ${inspect(content, { depth: 5 })}`); for (let error of errors) { debug('\\t' + error); } return callback(new Error('Received invalid conversation.')); } this._tryCallHandler( this.incomingCallHandler, callback, [conversation, this._createWorkflow(), this._createWorkflowCallback(callback)]); } processCallback(content, additionalData, callback) { let result; let invalid = false; try { result = new conversations.ConversationResult(content); } catch (err) { invalid = true; } let errors = []; if (!invalid) { errors = result.validate(); } if (errors.length &gt; 0 || invalid) { debug(`Conversation result is invalid: ${inspect(content, { depth: 5 })}`); for (let error of errors) { debug('\\t' + error); } debug('Trying to parse content as notification.'); return this._processNotification(content, additionalData, (error, notificationResponse) =&gt; { if (error) { return callback(error); } const errors = notificationResponse.validate(); if (errors.length &gt; 0) { return callback(new Error('Received invalid notification response.')); } callback(null, notificationResponse); }); } this._processConversationResult(result, additionalData, this._createWorkflowCallback(callback)); } _createWorkflowCallback(callback) { return (error, workflow) =&gt; { if (error) { return callback(error); } if (workflow) { const errors = workflow.validate(); if (errors.length &gt; 0) { debug(`Workflow is invalid: ${inspect(workflow, { depth: 5 })}`); for (let error of errors) { debug('\\t' + error); } return callback(new Error('Received invalid workflow.')); } callback(null, workflow); } else { callback(null); } }; } _createWorkflow() { const workflow = new Workflow(); workflow.links = new CallBackLink({callBack: this.callbackUri}); workflow.actions = []; return workflow; } _processNotification(content, additionalData, callback) { if (!('type' in content)) { return callback(new Error('Callback content not recognized.')); } if (content.type === enums.NotificationType.CallStateChange) { this._processCallStateChange(content, additionalData, callback); } else if (content.type === enums.NotificationType.RosterUpdate) { return callback(new Error('RosterUpdate event not supported yet.')); } else { return callback(new Error('Notification type not recognized.')); } } _processConversationResult(result, additionalData, callback) { const workflow = this._createWorkflow(); if (result.operationOutcome.type === enums.OutcomeType.AnswerOutcome) { this._tryCallHandler(this.answerCompletedHandler, callback, [result, workflow, callback]); } else if (result.operationOutcome.type === enums.OutcomeType.HangupOutcome) { this._tryCallHandler(this.hangupCompletedHandler, callback, [result, workflow, callback]); } else if (result.operationOutcome.type === enums.OutcomeType.PlayPromptOutcome) { this._tryCallHandler(this.playPromptCompletedHandler, callback, [result, workflow, callback]); } else if (result.operationOutcome.type === enums.OutcomeType.RecognizeOutcome) { this._tryCallHandler(this.recognizeCompletedHandler, callback, [result, workflow, callback]); } else if (result.operationOutcome.type === enums.OutcomeType.RecordOutcome) { this._tryCallHandler(this.recordCompletedHandler, callback, [result, additionalData, workflow, callback]); } else if (result.operationOutcome.type === enums.OutcomeType.RejectOutcome) { this._tryCallHandler(this.rejectCompletedHandler, callback, [result, workflow, callback]); } else if (result.operationOutcome.type === enums.OutcomeType.WorkflowValidationOutcome) { this._tryCallHandler(this.workflowValidationCompletedHandler, callback, [result, workflow, callback]); } else { callback(new Error('Unknown conversation result type.')); } } _processCallStateChange(content, callback) { const notification = new notifications.CallStateChangeNotification(content); const errors = notification.validate(); if (errors.length &gt; 0) { debug(`Call state notification is invalid: ${inspect(notification, { depth: 5 })}`); for (let error of errors) { debug('\\t' + error); } callback(new Error('Invalid call state notification.')); } const response = new notifications.NotificationResponse(); this._tryCallHandler(this.callStateChangeHandler, callback, [notification, response, callback]); } _tryCallHandler(handler, callback, args) { if (handler === null) { return callback(new Error('No event handler found.')); } else { handler.apply(null, args); } } } module.exports = CallingService; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"calling_model_notifications.js.html":{"id":"calling_model_notifications.js.html","title":"Source: calling/model/notifications.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: calling/model/notifications.js 'use strict'; const ModelValidation = require('./model-validation'); const CallingModelEnums = require('./enums'); const CallingModelLimits = require('./limits'); const Conversations = require('./conversation'); const RosterParticipant = require('./roster-participant'); const AbstractModelType = require('./abstract-model-type'); const CallBackLink = require('./callback-link'); /** * Base class for all notifications * * @extends ConversationBase * * @property {String} notificationType - string from CallingModelEnums.NotificationType; notification type identifier */ class NotificationBase extends Conversations.ConversationBase { /** * Creates a new NotificationBase instance; must not be called directly * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(inputData); this.notificationType = null; this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); errors = errors.concat(ModelValidation.validateEnum(context, this.notificationType, CallingModelEnums.NotificationType, 'NotificationBase.notificationType')); return errors; } } /** * This class represents notification when a call state changes * * @extends NotificationBase * * @property {String} currentState - string from CallingModelEnums.CallState; current call state after the change. */ class CallStateChangeNotification extends NotificationBase { /** * Creates a new CallStateChangeNotification notification * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(); this.notificationType = CallingModelEnums.NotificationType.CallStateChange; this.currentState = null; this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); errors = errors.concat(ModelValidation.validateEnum(context, this.currentState, CallingModelEnums.CallState, 'CallStateChangeNotification.currentState')); if(this.notificationType != null &amp;&amp; this.notificationType != CallingModelEnums.NotificationType.CallStateChange) { errors.push('CallStateChangeNotification.notificationType is set to ' + this.notificationType + ' instead of CallingModelEnums.NotificationType.CallStateChange'); } return errors; } } /** * This class represents notification when list of call participant changes * * @extends NotificationBase * * @property {Object[]} participants - optional, array of RosterParticipant. Full list of the participants after the change. */ class RosterUpdateNotification extends NotificationBase { /** * Creates a new RosterUpdateNotification notification * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(); this.notificationType = CallingModelEnums.NotificationType.RosterUpdate; this.participants = null; this.populatePlainInput(inputData, { 'participants' : attrData =&gt;{return new RosterParticipant(attrData);} }); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = super.validate(context); errors = errors.concat(ModelValidation.validateTypedObjectArray(context, this.participants, RosterParticipant, 'RosterUpdateNotification.participants', 'RosterParticipant')); if(this.notificationType != null &amp;&amp; this.notificationType != CallingModelEnums.NotificationType.RosterUpdate) { errors.push('CallStateChangeNotification.notificationType is set to ' + this.notificationType + ' instead of CallingModelEnums.NotificationType.RosterUpdate'); } return errors; } } /** * This class contains the response the customer sent for the notification POST to their callback url. * * @extends AbstractModelType * * @property {Object} links - optional, Callback. Link to call back the customer on, once we have processed the notification response from customer * @property {String} appState - optional. Opaque string to received in the request * @property {Object} additionalData - optional. Additional arbitrary data */ class NotificationResponse extends AbstractModelType { /** * Creates a new notification response * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(); this.links = null; this.appState = null; this.additionalData = null; this.populatePlainInput(inputData, { 'links' : attrData =&gt; { return new CallBackLink(attrData);} }); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = []; errors = errors.concat(ModelValidation.validateOptionalTypedObject(context, this.links, CallBackLink, true, 'NotificationResponse.links', 'CallBackLink')); errors = errors.concat(ModelValidation.validateOptionalString(context, this.appState, 'NotificationResponse.appState', true, CallingModelLimits.AppStateLength.Max )); errors = errors.concat(ModelValidation.validateGenericObject(context, this.additionalData, 'NotificationResponse.additionalData')); return errors; } } /** * instantiates proper notification class object from the passed generic object * * @param {Object} notificationData - object, possibly the relevant part of deserialized JSON received from the Calling service * @returns {Object} appropriate instance of NotificationBase extending class * * @throws Error if notificationData are null, notificationData.notificationType is not set or is not from CallingModelEnums.NotificationType */ function instantiateNotification(notificationData) { if(notificationData == null) { throw new Error('notification data are null'); } else if(typeof notificationData != 'object' || Array.isArray(notificationData)) { throw new Error('Invalid type of the notification data'); } else if(notificationData.notificationType == null) { throw new Error('notificationType attribute in the notification data is undefined or null'); } switch(notificationData.notificationType) { case CallingModelEnums.NotificationType.CallStateChange: return new CallStateChangeNotification(notificationData); case CallingModelEnums.NotificationType.RosterUpdate: return new RosterUpdateNotification(notificationData); } throw new Error('Unsupported ' + notificationData.notificationType + ' notification type in the notification data'); } module.exports = {NotificationBase, CallStateChangeNotification, RosterUpdateNotification, NotificationResponse, instantiateNotification}; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"calling_model_collect-digits.js.html":{"id":"calling_model_collect-digits.js.html","title":"Source: calling/model/collect-digits.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: calling/model/collect-digits.js 'use strict'; const AbstractModelType = require('./abstract-model-type'); const ModelValidation = require('./model-validation'); const CallingModelLimits = require('./limits'); const DmftsValidation = require('./dmtfs'); /** * This is part of the &quot;recognize&quot; action. If the customer wants to collect digits - this needs to be specified. * Ex: enter 5 digit zip code followed by pound sign. * Either maxNumberOfDtmfs or StopTones must be provided but not both. * * @extends AbstractModelType * * @property {Number} maxNumberOfDtmfs - optional. Maximum number of digits expected * @property {String[]} StopTones - optional. Stop tones specified to end collection (each stop tone is a char) */ class CollectDigits extends AbstractModelType { /** * Creates a new collect-digits * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(); this.maxNumberOfDtmfs = null; this.stopTones = null; this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = []; var stopTonesSet = this.stopTones != null; if(!stopTonesSet &amp;&amp; this.maxNumberOfDtmfs == null) { errors.push('Either CollectDigits.maxNumberOfDtmfs or CollectDigits.stopTones must be set'); } errors = errors.concat(ModelValidation.validateOptionalNumber(context, this.maxNumberOfDtmfs, 'CollectDigits.maxNumberOfDtmfs', CallingModelLimits.NumberOfDtmfsExpected.Min, CallingModelLimits.NumberOfDtmfsExpected.Max)); if(stopTonesSet) { errors = errors.concat(DmftsValidation.validateDtmfsArray(context, this.stopTones, 'CollectDigits.stopTones')); } return errors; } } module.exports = CollectDigits; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"messaging_events_contact-notification.js.html":{"id":"messaging_events_contact-notification.js.html","title":"Source: messaging/events/contact-notification.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: messaging/events/contact-notification.js 'use strict'; const Event = require('./event'); /** * The bot was added to user's contacts event. * * @extends Event * * @property {string} from - The message's sender. * @property {string} to - The message's recipient. Either bot's id or a group id. * @property {string} fromDisplayName - The user's display name, as it appears in their profile. * @property {string} type - The event's type as defined by Bot Platform (&quot;AgentContactNotification&quot;). * @property {string} action - Should decide if user added (&quot;add&quot;) or removed (&quot;removed&quot;) the bot. Currently only &quot;add&quot; is supported. */ class ContactNotification extends Event { /** * Create an event. * * @extends Event * * @param {Object} options - The object received from Messaging Service. * @param {string} options.from - The message's sender. * @param {string} options.to - The message's recipient. Either bot's id or a group id. * @param {string} options.fromDisplayName - The user's display name, as it appears in their profile. * @param {string} options.type - The event's type as defined by Bot Platform (&quot;AgentContactNotification&quot;). * @param {string} options.action - Should decide if user added (&quot;add&quot;) or removed (&quot;removed&quot;) the bot. Currently only &quot;add&quot; is supported. */ constructor(event) { super(event); if (typeof event.fromDisplayName === 'undefined' || event.fromDisplayName === null) throw new Error('Missing mandatory field &quot;fromDisplayName&quot;'); if (typeof event.action === 'undefined' || event.action === null) throw new Error('Missing mandatory field &quot;action&quot;'); this.fromDisplayName = event.fromDisplayName; this.action = event.action; } } module.exports = ContactNotification; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"calling_model_conversation.js.html":{"id":"calling_model_conversation.js.html","title":"Source: calling/model/conversation.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: calling/model/conversation.js 'use strict'; const AbstractModelType = require('./abstract-model-type'); const ModelValidation = require('./model-validation'); const CallingModelLimits = require('./limits'); const CallingModelEnums = require('./enums'); const Participant = require('./participant'); const Outcomes = require('./operation-outcomes'); /** * This base class defines a basic subset of properties which define a conversation. * Conversation class derives from this and adds more properties - they are passed in OnIncomingCall * ConversationResult class derives from this and adds more properties - they are passed in POST to callback Url to list operation outcomes * * @extends AbstractModelType * * @property {String} id - conversation unique identifier * @property {String} appId - optional. Application Id of the customer * @property {String} appState - optional. Opaque string to facilitate app developers to pass their custom data in this field back in the response * @property {Object} links - optional. Any links we want to surface to the customer for them to invoke us back on. */ class ConversationBase extends AbstractModelType { /** * Creates a new conversationBase when called from the inheriting class. Must not be used directly. * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(); this.id = null; this.appId = null; this.appState = null; this.links = null; this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = []; errors = errors.concat(ModelValidation.validateString(context, this.id, 'ConversationBase.id')); errors = errors.concat(ModelValidation.validateOptionalString(context, this.appState, 'ConversationBase.appState', true, CallingModelLimits.AppStateLength.Max )); errors = errors.concat(ModelValidation.validateOptionalString(context, this.appId, 'ConversationBase.appId')); errors = errors.concat(ModelValidation.validateDictionaryOfStrings(context, this.links, 'ConversationBase.links')); return errors; } } /** * This class defines the set of the properties that define a conversation. * A conversation includes participants, modalities etc. * This object is specified in the body of the OnIncomingCall request sent to the client. * This object is used to represent both incoming and outgoing conversations. * * @extends ConversationBase * * @property {Object[]} participants - Participant class; array of participants in the conversation * @property {Boolean} isMultiParty - true if the call is a group call * @property {String} threadId - id of the chat thread if isMultiParty is true * @property {String[]} presentedModalityTypes - the modalities present in the call (audio, video, ...) * @property {String} callState - CallingModelEnums.CallState. Current state of the call * @property {String} subject - optional. Subject of the call * @property {Object} additionalData - optional. Additional arbitrary data */ class Conversation extends ConversationBase { /** * Creates a new conversation * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(inputData); this.participants = null; this.isMultiParty = false; this.threadId = null; this.presentedModalityTypes = null; this.callState = null; this.subject = null; this.additionalData = null; this.populatePlainInput(inputData, { 'participants' : function(attrData){return new Participant(attrData);}} ); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = []; errors = errors.concat(super.validate(context)); if(this.isMultiParty != null &amp;&amp; this.isMultiParty) { errors = errors.concat(ModelValidation.validateString(context, this.threadId, 'Conversation.threadId')); } else { if(this.threadId != null) errors.push('Conversation.threadId must be null when Conversation.isMultiParty is not set'); } errors = errors.concat(ModelValidation.validateEnum(context, this.callState, CallingModelEnums.CallState, 'Conversation.callState')); errors = errors.concat(ModelValidation.validateTypedObjectArray(context, this.participants, Participant, 'Conversation.participants', 'Participant')); errors = errors.concat(ModelValidation.validateEnumArray(context, this.presentedModalityTypes, CallingModelEnums.ModalityType, 'Conversation.presentedModalityTypes')); errors = errors.concat(ModelValidation.validateBoolean(context, this.isMultiParty, 'Conversation.isMultiParty')); errors = errors.concat(ModelValidation.validateOptionalString(context, this.subject, 'Conversation.subject')); errors = errors.concat(ModelValidation.validateGenericObject(context, this.additionalData, 'Conversation.additionalData')); return errors; } } /** * Top class wrapping the result of the last workflow issued by the bot to the Calling service * * @extends ConversationBase * @property {Object} operationOutcome - The outcome of the last executed action in the previous workflow * @property {String} callState - CallingModelEnums.CallState. Current state of the call. */ class ConversationResult extends ConversationBase { /** * Creates a new conversation result * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(); this.operationOutcome = null; this.callState = CallingModelEnums.CallState.Idle; this.populatePlainInput(inputData, { 'operationOutcome' : attrData =&gt; { return Outcomes.instantiateOperationOutcome(attrData); } }); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = []; errors = errors.concat(super.validate(context)); errors = errors.concat(ModelValidation.validateEnum(context, this.callState, CallingModelEnums.CallState, 'ConversationResult.callState')); errors = errors.concat(ModelValidation.validateTypedObject(context, this.operationOutcome, Outcomes.OperationOutcomeBase, 'ConversationResult.operationOutcome', 'OperationOutcomeBase')); return errors; } } module.exports = { ConversationBase, Conversation, ConversationResult}; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"messaging_events_event.js.html":{"id":"messaging_events_event.js.html","title":"Source: messaging/events/event.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: messaging/events/event.js 'use strict'; /** * The received event. * * @property {string} from - The message's sender. * @property {string} to - The message's recipient. Either bot's id or a group id. * @property {string} type - optional; The event's type as defined by Messaging Service v1 API. */ class Event { /** * Create an event. * * @param {Object} options - The object received from Messaging Service. * @param {string} options.from - The message's sender. * @param {string} options.to - The message's recipient. Either bot's id or a group id. * @param {string} options.type - The event's type as defined by Messaging Service. */ constructor(event) { if(event == null) throw new Error('No input event provided'); if (typeof event.from === 'undefined' || event.from === null) throw new Error('Missing mandatory field &quot;from&quot;'); if (typeof event.to === 'undefined' || event.to === null) throw new Error('Missing mandatory field &quot;to&quot;'); this.from = event.from; this.to = event.to; this.type = event.type; } } module.exports = Event; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"messaging_events_history-disclosed.js.html":{"id":"messaging_events_history-disclosed.js.html","title":"Source: messaging/events/history-disclosed.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: messaging/events/history-disclosed.js 'use strict'; const Event = require('./event'); /** * The thread's history disclosed setting updated event. * * @extends Event * * @property {string} from - The message's sender. * @property {string} to - The message's recipient. Either bot's id or a group id. * @property {bool} historyDisclosed - Whether the history disclosed setting is turned on or off. * @property {number} eventTime - The event sent timestamp. * @property {string} type - The event's type as defined by Messaging Service (&quot;ThreadHistoryDisclosedUpdate&quot;). */ class HistoryDisclosed extends Event { /** * Create a history disclosed event. * * @param {Object} options - The object received from Messaging Service. * @param {string} options.from - The message's sender. * @param {string} options.to - The message's recipient. Either bot's id or a group id. * @param {bool} options.historyDisclosed - Whether the history disclosed setting is turned on or off. * @param {number} options.eventTime - The event sent timestamp. * @param {string} options.type - The event's type as defined by Messaging Service (&quot;ThreadHistoryDisclosedUpdate&quot;). */ constructor(event) { super(event); if (typeof event.historyDisclosed === 'undefined' || event.historyDisclosed === null) throw new Error('Missing mandatory field &quot;historyDisclosed&quot;'); if (typeof event.eventTime === 'undefined' || event.eventTime === null) throw new Error('Missing mandatory field &quot;eventTime&quot;'); this.historyDisclosed = event.historyDisclosed; this.eventTime = event.eventTime; } } module.exports = HistoryDisclosed; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"utils_calling-handler.js.html":{"id":"utils_calling-handler.js.html","title":"Source: utils/calling-handler.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: utils/calling-handler.js 'use strict'; const Busboy = require('busboy'); const createDebug = require('debug'); const inspect = require('util').inspect; function responseCallback(req, res, debug) { return function(err, response) { if (err) { debug('Sending response 500 with error: ' + err); res.status(500); res.end(); return; } debug('Sending response 200: \\n' + inspect(response, { depth: 5 })); res.status(200); res.send(response); }; } function parseBody(req, callback) { if (typeof req.body === 'undefined') { let data = ''; req.on('data', chunk =&gt; data += chunk); req.on('end', () =&gt; { let body; try { body = JSON.parse(data); } catch (error) { callback(error); } callback(null, body); }); } else { callback(null, req.body); } } /** * Create a calling handler for REST frameworks like Express or Restify. * Returns function(req, res). * * Example of usage: * ```javascript * const skype = require('skype-sdk'); * const restify = require('restify'); * * const botService = new skype.BotService(...); * const server = restify.createServer(); * server.post('/v1/calls', skype.incomingCallHandler(botService)); * ... * ``` * * @param {BotService} botService - Bot service that should be used for handling the requests. */ function incomingCallHandler(botService) { const debug = createDebug('skype-sdk.incomingCallHandler'); return (req, res) =&gt; { const callback = responseCallback(req, res, debug); parseBody(req, (err, body) =&gt; { debug('Received call: \\n' + inspect(body, { depth: 5 })); botService.processCall(body, callback); }); }; } /** * Create a handler for calling callbacks for REST frameworks like Express or Restify. * Returns function(req, res). * * Example of usage: * ```javascript * const botkit = require('skype-sdk'); * const restify = require('restify'); * * const botService = new botkit.BotService(...); * const server = restify.createServer(); * server.post('/v1/callbacks', botkit.incomingCallbackHandler(botService)); * ... * ``` * * @param {BotService} botService - Bot service that should be used for handling the requests. */ function incomingCallbackHandler(botService) { const debug = createDebug('skype-sdk.incomingCallbackHandler'); return (req, res) =&gt; { const callback = responseCallback(req, res, debug); if (req.is('application/json')) { parseBody(req, (err, body) =&gt; { if (err) { return callback(err); } debug('Received callback: \\n' + inspect(body, { depth: 5 })); botService.processCallback(body, null, callback); }); } else if (req.is('multipart/form-data')) { const busboy = new Busboy({ headers: req.headers, defCharset: 'binary' }); let result; let recordedAudio; busboy.on('field', (fieldname, val, fieldnameTruncated, valTruncated, encoding, mimetype) =&gt; { debug(`Field [${fieldname}]: value: ${typeof (val)} encoding: ${encoding} mimetype: ${mimetype}`); if (fieldname === 'recordedAudio') { recordedAudio = new Buffer(val, 'binary'); debug('Recorded audio buffer: ' + inspect(recordedAudio.slice(0, 10), { depth: 5 })); } else if (fieldname === 'conversationResult') { result = JSON.parse(val); debug('Received conversation result: \\n' + inspect(val, { depth: 5 })); } }); busboy.on('finish', () =&gt; { debug('Busboy finished.'); botService.processCallback(result, recordedAudio, callback); }); req.pipe(busboy); } }; } module.exports = { incomingCallbackHandler, incomingCallHandler }; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"messaging_events_message.js.html":{"id":"messaging_events_message.js.html","title":"Source: messaging/events/message.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: messaging/events/message.js 'use strict'; const Event = require('./event'); /** * The received message event. * * @extends Event * * @property {string} from - The message's sender. * @property {string} to - The message's recipient. Either bot's id or a group id. * @property {content} content - The content of the message. * @property {number} messageId - The message's ID from Messaging Service. * @property {string} contentType -The content's type as defined by messaging service (&quot;RichText&quot;). * @property {number} eventTime - The event sent timestamp. * @property {string} type - The event's type as defined by Messaging Service (&quot;Message&quot;). */ class Message extends Event { /** * Create a message event. * * @param {Object} options - The object received from Messaging Service. * @param {string} options.from - The message's sender. * @param {string} options.to - The message's recipient. Either bot's id or a group id. * @param {string} options.content - The content of the message. * @param {number} options.messageId - The message's ID from Messaging Service. * @param {string} options.contentType -The content's type as defined by messaging service (&quot;RichText&quot;). * @param {number} options.eventTime - The event sent timestamp. * @param {string} options.type - The event's type as defined by messaging service (&quot;Message&quot;). */ constructor(event) { super(event); if (typeof event.content === 'undefined' || event.content === null) throw new Error('Missing mandatory field &quot;content&quot;'); if (typeof event.contentType === 'undefined' || event.contentType === null) throw new Error('Missing mandatory field &quot;contentType&quot;'); if (typeof event.messageId === 'undefined' || event.messageId === null) throw new Error('Missing mandatory field &quot;messageId&quot;'); if (typeof event.eventTime === 'undefined' || event.eventTime === null) throw new Error('Missing mandatory field &quot;eventTime&quot;'); this.content = event.content; this.contentType = event.contentType; this.messageId = event.messageId; this.eventTime = event.eventTime; } } module.exports = Message; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"utils_messaging-handler.js.html":{"id":"utils_messaging-handler.js.html","title":"Source: utils/messaging-handler.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: utils/messaging-handler.js 'use strict'; const debug = require('debug')('skype-sdk.messagingHandler'); /** * Create a messaging handler for rest frameworks like Express or Restify. * Returns function(req, res). * * Example of usage: * ```javascript * const botkit = require('skype-sdk'); * const restify = require('restify'); * * const botService = new botkit.BotService(...); * const server = restify.createServer(); * server.post('/v1/chat', botkit.messagingHandler(botService)); * ... * ``` * * @param {BotService} botService - Bot service that should be used for handling the requests. */ function messagingHandler(botService) { return (req, res) =&gt; { if (req.body) { debug(`Received request with body ${JSON.stringify(req.body)}, passing it to botService.`); botService.processMessagingRequest(req.body); } else { let requestData = ''; debug('Received request, receiving data.'); req.on('data', (chunk) =&gt; requestData += chunk); req.on('end', () =&gt; { debug(`Received all data ${requestData}, passing it to botService.`); botService.processMessagingRequest(requestData); }); } res.status(201); res.end(); }; } module.exports = messagingHandler; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"calling_model_participant.js.html":{"id":"calling_model_participant.js.html","title":"Source: calling/model/participant.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: calling/model/participant.js 'use strict'; const AbstractModelType = require('./abstract-model-type'); const ModelValidation = require('./model-validation'); /** * Creates a new participant * This can be a participant in any modality in a 2 or multi-party conversation * * @extends AbstractModelType * * @property {String} identity - optional. MRI of the participant, ex : 2:+14258828080 or '8:alice' * @property {String} displayName - optional, display name of participant, ex 'Pepa z depa' * @property {String} languageId - optional, participant language if known * @property {Boolean} originator - whether this participant the originator of the conversation */ class Participant extends AbstractModelType { /** * Creates a new participant * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(); this.identity = null; this.displayName = null; this.languageId = null; this.originator = false; if(inputData != null) this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = []; errors = errors.concat(ModelValidation.validateString(context, this.identity, 'Participant.identity')); errors = errors.concat(ModelValidation.validateOptionalString(context, this.displayName, 'Participant.displayName')); errors = errors.concat(ModelValidation.validateOptionalString(context, this.languageId, 'Participant.languageId')); errors = errors.concat(ModelValidation.validateBoolean(context, this.originator, 'Participant.originator')); return errors; } } module.exports = Participant; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"calling_model_prompt.js.html":{"id":"calling_model_prompt.js.html","title":"Source: calling/model/prompt.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: calling/model/prompt.js 'use strict'; const AbstractModelType = require('./abstract-model-type'); const CallingModelLimits = require('./limits'); const CallingModelEnums= require('./enums'); const ModelValidation = require('./model-validation'); /** * Represents a single prompt. * Either value, fileUri or silenceLengthInMilliSeconds must be set, but not value and fileUri simultaneously. * * @extends AbstractModelType * * @property {String} value - optional. Text specifying the text to be played or empty if just silence should be played out. * @property {String} fileUri - optional. Url of any media file to be played out. * @property {String} voice - CallingModelEnums.VoiceGender, optional. The voice to use to read the text if &quot;value&quot; is text. * @property {String} culture - CallingModelEnums.Culture, optional. The culture to use to tts out if &quot;value&quot; is text. * @property {Number} silenceLengthInMilliSeconds - optional. Any silence to be played out before playing &quot;value&quot;. If &quot;value&quot; is null, this field must be a valid &gt; 0 value. * @property {Boolean} emphasize - optional. Whether to emphasize when reading text - if &quot;value&quot; is text. * @property {String} sayAs - optional, CallingModelEnums.SayAs. Whether to customize pronunciation when reading text - if &quot;value&quot; is text. */ class Prompt extends AbstractModelType { /** * Creates a new prompt * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(); this.value = null; this.fileUri = null; this.voice = null; this.culture = null; this.silenceLengthInMilliSeconds = null; this.emphasize = null; this.sayAs = null; this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = []; var fileUriSpecified = this.fileUri != null; var promptTextSpecified = this.value != null &amp;&amp; /\\S/.test(this.value); if(!fileUriSpecified &amp;&amp; !promptTextSpecified &amp;&amp; (this.silenceLengthInMilliSeconds == null || this.silenceLengthInMilliSeconds &lt;= 0)) { errors.push('Neither Prompt.fileUri, Prompt.value or valid silence period are specified'); } if(fileUriSpecified &amp;&amp; promptTextSpecified) { errors.push('Prompt.fileUri and Prompt.value must not be specified at the same time'); } if(fileUriSpecified) errors = errors.concat(ModelValidation.validateString(context, this.fileUri, 'Prompt.fileUri', false)); if(promptTextSpecified) errors = errors.concat(ModelValidation.validateString(context, this.value, 'Prompt.value', false, CallingModelLimits.LengthOfTTSText.Max)); errors = errors.concat(ModelValidation.validateOptionalNumber(context, this.silenceLengthInMilliSeconds, 'Prompt.silenceLengthInMilliSeconds',null, CallingModelLimits.SilentPromptDurationSec.Max)); errors = errors.concat(ModelValidation.validateOptionalEnum(context, this.voice, CallingModelEnums.VoiceGender, 'Prompt.voice')); errors = errors.concat(ModelValidation.validateOptionalEnum(context, this.culture, CallingModelEnums.Culture, 'Prompt.culture')); errors = errors.concat(ModelValidation.validateOptionalEnum(context, this.sayAs, CallingModelEnums.SayAs, 'Prompt.sayAs')); errors = errors.concat(ModelValidation.validateOptionalBoolean(context, this.emphasize, 'Prompt.emphasize')); return errors; } } module.exports = Prompt; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"calling_model_recognition-option.js.html":{"id":"calling_model_recognition-option.js.html","title":"Source: calling/model/recognition-option.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: calling/model/recognition-option.js 'use strict'; const CallingModelLimits = require('./limits'); const DtmfsValidaton = require('./dmtfs'); const AbstractModelType = require('./abstract-model-type'); const ModelValidation = require('./model-validation'); /** * This is part of the &quot;recognize&quot; action. If the customer wants to speech/dtmf choice based recognition - this needs to be specified. * Ex: say &quot;Sales&quot; or enter 1 for Sales department * * @extends AbstractModelType * * @property {String} name - Name of the choice. Once a choice matches, this name is conveyed back to the customer in the outcome. * @property {String} speechVariation - optional. Speech variations which form the grammar for the choice ( Ex: Name : &quot;Yes&quot; , SpeechVariation : {&quot;Yes&quot;, &quot;yeah&quot;, &quot;ya&quot;, &quot;yo&quot; ). * @property {String[]} dtmfVariation - optional. Dtmf variations for the choice, Ex: Name : &quot;Yes&quot; , DtmfVariation : {'1'} */ class RecognitionOption extends AbstractModelType { /** * Creates a new recognition option * * @param {object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(); this.name = null; this.speechVariation = null; this.dtmfVariation = null; if(inputData != null) this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = []; errors = errors.concat(ModelValidation.validateString(context, this.name, 'RecognitionOption.name')); var speechVariationSet = this.speechVariation != null; var dmftVariationSet = this.dtmfVariation != null; if(!speechVariationSet &amp;&amp; !dmftVariationSet) { errors.push('Neither RecognitionOption.speechVariation or RecognitionOption.dmftVariation is set'); } else { if(speechVariationSet) { errors = errors.concat(ModelValidation.validateArray(context, this.speechVariation, 'RecognitionOption.speechVariation', false, false, CallingModelLimits.NumberOfSpeechVariations.Max)); if(errors.length == 0) { this.speechVariation.forEach(function(item){ errors = errors.concat(ModelValidation.validateString(context, item, 'RecognitionOption.speechVariation item', false)); }); } } if(dmftVariationSet) { errors = errors.concat(DtmfsValidaton.validateDtmfs(context, this.dtmfVariation, 'RecognitionOption.dtmfVariation')); } } return errors; } } module.exports = RecognitionOption; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"calling_model_roster-participant.js.html":{"id":"calling_model_roster-participant.js.html","title":"Source: calling/model/roster-participant.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: calling/model/roster-participant.js 'use strict'; const AbstractModelType = require('./abstract-model-type'); const ModelValidation = require('./model-validation'); const CallingModelEnums = require('./enums'); /** * Represents a participant within a RosterUpdateNotification notification. * * @extends AbstractModelType * * @property {String} identity - optional. MRI of the participant * @property {String} mediaStreamDirection - direction of the media (send, receive, ...). * @property {String} mediaType - optional, CallingModelEnums.ModalityType. Participant media type (audio, video, ...). */ class RosterParticipant extends AbstractModelType { /** * Creates a new roster participant * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(); this.identity = null; this.mediaType = null; this.mediaStreamDirection = null; this.populatePlainInput(inputData); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = []; errors = errors.concat(ModelValidation.validateString(context, this.identity, 'RosterParticipant.identity')); errors = errors.concat(ModelValidation.validateString(context, this.mediaStreamDirection, 'RosterParticipant.mediaStreamDirection')); errors = errors.concat(ModelValidation.validateEnum(context, this.mediaType, CallingModelEnums.ModalityType, 'RosterParticipant.mediaType')); return errors; } } module.exports = RosterParticipant; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"messaging_events_topic-updated.js.html":{"id":"messaging_events_topic-updated.js.html","title":"Source: messaging/events/topic-updated.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: messaging/events/topic-updated.js 'use strict'; const Event = require('./event'); /** * The thread's topic updated event. * * @extends Event * * @property {string} from - The user who modified the thread's topic. * @property {string} to - The id of the group which topic was updated. * @property {string} topic - The new topic. * @property {number} eventTime - The event sent timestamp. * @property {string} type - The event's type as defined by Messaging Service (&quot;NewTopic&quot;). */ class TopicUpdated extends Event { /** * Create a topic updated event. * * @param {Object} options - The object received from Messaging Service. * @param {string} options.from - The user who modified the thread's topic. * @param {string} options.to - The id of the group which topic was updated. * @param {string} options.topic - The new topic. * @param {number} options.eventTime - The event sent timestamp. * @param {string} options.type - The event's type as defined by Messaging Service (&quot;NewTopic&quot;). */ constructor(event) { super(event); if (typeof event.topic === 'undefined' || event.topic === null) throw new Error('Missing mandatory field &quot;topic&quot;'); if (typeof event.eventTime === 'undefined' || event.eventTime === null) throw new Error('Missing mandatory field &quot;eventTime&quot;'); this.topic = event.topic; this.eventTime = event.eventTime; } } module.exports = TopicUpdated; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"messaging_events_user-added.js.html":{"id":"messaging_events_user-added.js.html","title":"Source: messaging/events/user-added.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: messaging/events/user-added.js 'use strict'; const Event = require('./event'); /** * The user/bot added to group chat event. * * @extends Event * * @property {string} from - The user who added (removed) other users to (from) group chat. * @property {string} to - The group id of the modified group. * @property {string[]} targets - The list of added users (usernames). * @property {number} eventTime - The event sent timestamp. * @property {string} type - The event's type as defined by Messaging Service (&quot;ThreadAddMember&quot;). */ class UserAdded extends Event { /** * Create a user/bot added to group chat event. * * @extends Event * * @param {Object} options - The object received from Messaging Service. * @param {string} options.from - The message's sender. * @param {string} options.to - The message's recipient. Either bot's id or a group id. * @param {string[]} options.targets - The list of added users (usernames). * @param {number} options.eventTime - The event sent timestamp. * @param {string} options.type - The event's type as defined by Messaging Service (&quot;ThreadAddMember&quot;). */ constructor(event) { super(event); if (typeof event.targets === 'undefined' || event.targets === null) throw new Error('Missing mandatory field &quot;targets&quot;'); if (typeof event.eventTime === 'undefined' || event.eventTime === null) throw new Error('Missing mandatory field &quot;eventTime&quot;'); this.targets = event.targets; this.eventTime = event.eventTime; } } module.exports = UserAdded; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"messaging_events_user-removed.js.html":{"id":"messaging_events_user-removed.js.html","title":"Source: messaging/events/user-removed.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: messaging/events/user-removed.js 'use strict'; const UserAdded = require('./user-added'); /** * The user/bot removed from group chat event. * * @extends Event * * @property {string} from - The user who added (removed) other users to (from) group chat. * @property {string} to - The group id of the modified group. * @property {string[]} targets - The list of added users (usernames). * @property {number} eventTime - The event sent timestamp. * @property {string} type - The event's type as defined by Messaging Service (&quot;ThreadAddMember&quot;). */ class UserRemoved extends UserAdded { /** * Create a user/bot removed from group chat event. * * @extends Event * * @param {Object} options - The object received from Messaging Service. * @param {string} options.from - The message's sender. * @param {string} options.to - The message's recipient. Either bot's id or a group id. * @param {string[]} options.targets - The list of removed users (usernames). * @param {number} options.eventTime - The event sent timestamp. * @param {string} options.type - The event's type as defined by Messaging Service (&quot;ThreadRemoveMember&quot;). */ constructor(event) { super(event); } } module.exports = UserRemoved; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"calling_model_workflow.js.html":{"id":"calling_model_workflow.js.html","title":"Source: calling/model/workflow.js","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Source: calling/model/workflow.js 'use strict'; const AbstractModelType = require('./abstract-model-type'); const ModelValidation = require('./model-validation'); const CallingModelEnums = require('./enums'); const CallingModelLimits = require('./limits'); const CallBackLink = require('./callback-link'); const Actions = require('./actions'); /** * This class contains the workflow the customer sent for the OnInComingCall POST or any subsequent POST to their callback url. * Basically this workflow defines the set of actions, the customer wants us to perform and then callback to them. * * @extends AbstractModelType * * @property {String} actions - list of actions to perform . ex : playPrompt, record, hangup * @property {Object} links - optional. Callback link to call back the customer on, once we have performed the set of actions * @property {String} appState - optional. Opaque string to facilitate app developers to pass their custom data in this field . This field is echo'd back in the 'result' POST for this 'workflow' * @property {String} notificationSubscriptions - optional. Registration to notification updates. Registration to CallingModelEnums.NotificationType.CallStateChange must be set as is by default, rosterUpdate is relevant only for multiparty calls. * @property {Object} additionalData - optional. Additional arbitrary data */ class Workflow extends AbstractModelType { /** * Creates a new workflow * * @param {Object} inputData - the object received from Calling service, or null if constructing from scratch. */ constructor(inputData) { super(); this.links = null; this.actions = null; this.appState = null; this.notificationSubscriptions = [ CallingModelEnums.NotificationType.CallStateChange ]; this.additionalData = null; this.populatePlainInput(inputData, { 'links' : attrData =&gt; { return new CallBackLink(attrData); }, 'actions' : attrData =&gt; { return Actions.instantiateAction(attrData); }}); } /** * validates the object instance * * @param context * @returns {Array} - validation errors */ validate(context) { var errors = []; errors = errors.concat(ModelValidation.validateOptionalTypedObject(context, this.links, CallBackLink, 'Workflow.links', 'CallBackLink')); errors = errors.concat(ModelValidation.validateOptionalString(context, this.appState, 'Workflow.appState', false, CallingModelLimits.AppStateLength.Max)); errors = errors.concat(ModelValidation.validateEnumArray(context, this.notificationSubscriptions, CallingModelEnums.NotificationType, 'Workflow.notificationSubscriptions')); if(Array.isArray(this.notificationSubscriptions) &amp;&amp; this.notificationSubscriptions.indexOf(CallingModelEnums.NotificationType.CallStateChange) &lt; 0) { errors.push('Workflow.notificationSubscriptions does not contain subscription to ' + CallingModelEnums.NotificationType.CallStateChange + ' notification as it should'); } errors = errors.concat(ModelValidation.validateGenericObject(context, this.additionalData, 'Workflow.additionalData')); errors = errors.concat(Actions.validateActionArray(context, this.actions, 'Workflow.actions')); return errors; } } module.exports = Workflow; × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"global.html":{"id":"global.html","title":"Global","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Global Methods incomingCallbackHandler(botService) Create a handler for calling callbacks for REST frameworks like Express or Restify.Returns function(req, res). Example of usage: const botkit = require('skype-sdk'); const restify = require('restify'); const botService = new botkit.BotService(...); const server = restify.createServer(); server.post('/v1/callbacks', botkit.incomingCallbackHandler(botService)); ... Parameters: Name Type Description botService BotService Bot service that should be used for handling the requests. Source: utils/calling-handler.js, line 85 incomingCallHandler(botService) Create a calling handler for REST frameworks like Express or Restify.Returns function(req, res). Example of usage: const skype = require('skype-sdk'); const restify = require('restify'); const botService = new skype.BotService(...); const server = restify.createServer(); server.post('/v1/calls', skype.incomingCallHandler(botService)); ... Parameters: Name Type Description botService BotService Bot service that should be used for handling the requests. Source: utils/calling-handler.js, line 57 instantiateAction(actionData, isStandAloneAction) instantiates proper action class object from the passed generic object Parameters: Name Type Description actionData Object object, possibly the relevant part of deserialized JSON received from the Calling service isStandAloneAction Object true if the resulting action should be isolated and must not be part of the action list Source: calling/model/actions.js, line 755 Throws: Error if actionData are null, actionData.action is not set or is not from CallingModelEnums.ActionType Returns: appropriate instance of ActionBase extending class Type Object instantiateAction(actionData, isStandAloneAction) instantiates proper action class object from the passed generic object Parameters: Name Type Description actionData Object object, possibly the relevant part of deserialized JSON received from the Calling service isStandAloneAction Object true if the resulting action should be isolated and must not be part of the action list Source: calling/model/actions.js, line 755 Throws: Error if actionData are null, actionData.action is not set or is not from CallingModelEnums.ActionType Returns: appropriate instance of ActionBase extending class Type Object instantiateNotification(notificationData) instantiates proper notification class object from the passed generic object Parameters: Name Type Description notificationData Object object, possibly the relevant part of deserialized JSON received from the Calling service Source: calling/model/notifications.js, line 195 Throws: Error if notificationData are null, notificationData.notificationType is not set or is not from CallingModelEnums.NotificationType Returns: appropriate instance of NotificationBase extending class Type Object instantiateOperationOutcome(outcomeData) instantiates proper operation outcome class object from the passed generic object Parameters: Name Type Description outcomeData Object object, possibly the relevant part of deserialized JSON received from the Calling service Source: calling/model/operation-outcomes.js, line 648 Throws: Error if outcomeData are null, outcomeData.type is not set or is not from CallingModelEnums.OutcomeType Returns: appropriate instance of OperationOutcomeBase extending class Type Object messagingHandler(botService) Create a messaging handler for rest frameworks like Express or Restify.Returns function(req, res). Example of usage: const botkit = require('skype-sdk'); const restify = require('restify'); const botService = new botkit.BotService(...); const server = restify.createServer(); server.post('/v1/chat', botkit.messagingHandler(botService)); ... Parameters: Name Type Description botService BotService Bot service that should be used for handling the requests. Source: utils/messaging-handler.js, line 22 × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Classes Classes AbstractModelType AbstractModelType ActionBase ActionBase Answer Answer AnswerAppHostedMedia AnswerAppHostedMedia AnswerAppHostedMediaOutcome AnswerOutcome Attachment Bot BotService CallBackLink CallingService CallStateChangeNotification ChoiceOutcome CollectDigits CollectDigitsOutcome ContactNotification Conversation ConversationBase ConversationResult Event Hangup Hangup HangupOutcome HistoryDisclosed Message MessagingService NotificationBase NotificationResponse OperationOutcomeBase Participant PlaceCall PlaceCall PlaceCallOutcome PlayPrompt PlayPrompt PlayPromptOutcome Prompt RecognitionOption Recognize Recognize RecognizeOutcome Record Record RecordOutcome Reject Reject RejectOutcome RosterParticipant RosterUpdateNotification TopicUpdated TranscriptionOutcome Transfer Transfer TransferOutcome UserAdded UserRemoved VideoSubscription VideoSubscription VideoSubscriptionOutcome Workflow WorkflowValidationOutcome Events attachment This event is emitted when a new attachment is posted. Type: Attachment Source: messaging/events/attachment.js, line 52 contactAdded This event is emitted when users add the agent as a buddy. Example: botkit.on('contactAdded', (bot, event) =&gt; { bot.reply(`Hello ${event.fromDisplayName}, it's great that we are now buddies.`); }); Parameters: Name Type Description bot Bot event ContactNotification Source: messaging/messaging-service.js, line 287 contactRemoved This event is emitted when users removes the agent from his contact list.You won't be able to send a message to the user. Example: botkit.on('contactRemoved', (bot, event) =&gt; { console.log(`We lost user ${event.from}.`); }); Parameters: Name Type Description bot Bot event ContactNotification Source: messaging/messaging-service.js, line 302 groupMessage This event is emitted for every group chat message which isn't handled by any registered command. Parameters: Name Type Description bot Bot event Message Source: messaging/messaging-service.js, line 340 message This event is emitted for every received message. Parameters: Name Type Description bot Bot event Message Source: messaging/messaging-service.js, line 214 personalMessage This event is emitted for every 1:1 chat message which isn't handled by any registered command. Parameters: Name Type Description bot Bot event Message Source: messaging/messaging-service.js, line 331 threadAddMember This event is emitted when some users are added to group chat. Parameters: Name Type Description bot Bot event UserAdded Source: messaging/messaging-service.js, line 235 threadBotAdded This event is emitted when the agent is added to group chat. Parameters: Name Type Description bot Bot event UserAdded Source: messaging/messaging-service.js, line 226 threadBotRemoved This event is emitted when the agent is removed from group chat. Parameters: Name Type Description bot Bot event UserRemoved Source: messaging/messaging-service.js, line 248 threadHistoryDisclosedUpdate This event is emitted when the &quot;history disclosed&quot; option of a group chat is changed. Parameters: Name Type Description bot Bot event HistoryDisclosed Source: messaging/messaging-service.js, line 278 threadRemoveMember This event is emitted when some users are removed from group chat. Parameters: Name Type Description bot Bot event UserRemoved Source: messaging/messaging-service.js, line 257 threadTopicUpdated This event is emitted when the topic of a group chat is updated. Parameters: Name Type Description bot Bot event TopicUpdated Source: messaging/messaging-service.js, line 269 × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Getting startedLet's say you want to build an echo messaging bot. RequirementsIf you don't have them, go to the official Node.js website and install the latest versions of: Node.js and package ecosystem npm Both are available from the official page. ConfigurationBefore you get started, make sure you register your bot. Also have ready your: Bot’s ID Application ID If you've forgotten it, you can find your Application's ID in Details in My Bots. Your Application Secret If you've misplaced your Application Secret, you'll have to generate a new one at Microsoft Applications. Create a directory for your bot and navigate to it: &gt; mkdir echo_bot &gt; cd echo_botInitialize an npm project: &gt; npm initInstall the dependencies: &gt; npm install --save restifyDownload the Skype-SDK package skype-sdk.tar.gz and install it using npm: &gt; npm install --save ./skype-sdk.tar.gzUpdate your package.json file to include the &quot;engines&quot; attribute: { … &quot;engines&quot;: { &quot;node&quot;: &quot;&gt;=5.6.0&quot; }, … }Create server.jsYou need to create a server.js file to: Initialize the bot service Initialize your bot Run everything within a restify framework Let's get started. Import all the needed libraries: The restify framework The Skype SDK Create new instances of: The BotService class configured for messaging. Your APP_ID and APP_SECRET environment variables have OAuth credentials. The restify server Add an event handler for new contacts and reply with welcome message (set “escape” flag to true in your reply call, to accept invalid characters in user’s display names). Add a personal message event handler to echo and reply to incoming messages (set “escape” flag to true in your reply call, to accept invalid characters in user’s message). Configure one route for incoming events. Use the Skype SDK middleware functions to pass requests to BotService. POST to /v1/chat for incoming events The code should look like this: const fs = require('fs'); const restify = require('restify'); const skype = require('skype-sdk'); const botService = new skype.BotService({ messaging: { botId: '28:&lt;bot’s id&gt;', serverUrl : &quot;https://apis.skype.com &quot;, requestTimeout : 15000, appId: process.env.APP_ID, appSecret: process.env.APP_SECRET } }); botService.on('contactAdded', (bot, data) =&gt; { bot.reply(`Hello ${data.fromDisplayName}!`, true); }); botService.on('personalMessage', (bot, data) =&gt; { bot.reply(`Hey ${data.from}. Thank you for your message: &quot;${data.content}&quot;.`, true); }); const server = restify.createServer(); server.post('/v1/chat', skype.messagingHandler(botService)); const port = process.env.PORT || 8080; server.listen(port); console.log('Listening for incoming requests on port ' + port);Start the botYour bot is ready. Start it and test it locally: &gt; node server.jsMake sure you created environment variables: APP_ID With your application ID. APP_SECRET With your application secret for OAuth.If you don't, your bot won't authenticate and won't be able to call into Skype services. You can also create an environment variable PORT to change the default port 8080. Finally, if you want to see the debugging messages we added to the code, enter: &gt; set DEBUG=skype-sdk*Deployment to AzureFollow the Create a Node.js web app in Azure App Service article to create your Azure service and deploy it.Go to Azure portal, “App Services”, select your service, “Settings”, “Application settings”, go to “App settings” section and add your environment variables APP_ID and APP_SECRET there. You can also set up the DEBUG variable. Once your service is deployed to Azure you can start testing the bot with Skype. If your service is running on Azure, you might want to ensure that you are getting requests really from Bot Platform and not from someone just pretending to be the messaging service. You can use middleware that was created for skype-sdk. Modify your server.js and add following lines after the creation of your server. const server = restify.createServer(); server.use(skype.ensureHttps(true)); server.use(skype.verifySkypeCert());The first middleware, skype.ensureHttps(true) will redirect all requests to https endpoint. If you want to reject them, use skype.ensureHttps(true, 404) to reply with 404 Not Found. The second middleware, server.use(skype.verifySkypeCert()) will allow requests only from Bot Platform. To use it, you need to configure your Azure service to require client certificate. Follow https://azure.microsoft.com/en-gb/documentation/articles/app-service-web-configure-tls-mutual-auth/ to turn on this feature. Escaping special characters in messagesIf your bot fails to send messages, you may have to escape special characters in the content. The rules for replacing characters are: Replace &amp; with &amp;amp; Replace &lt; with &amp;lt; Replace &gt; with &amp;gt; This is already done for you in the SDK, there is an escape argument in send() and reply() functions. Set it to true to escape your message. Testing with ngrokThere are tools that can create a public url to your local webserver on your machine, e.g. ngrok. We’ll show how you can test your bot running locally over skype. You’ll need to download ngrok and modify your bot’s registration. First step is to start ngrok on your machine and map it to a local http port: &gt; ngrok http 8000This will create a new tunnel from a public url to http://localhost:8000 on your machine. After you start the command, you can see the status of the tunnel: ngrok by @inconshreveable (Ctrl+C to quit) Tunnel Status online Update update available (version 2.0.24, Ctrl-U to update) Version 2.0.19/2.0.25 Web Interface http://127.0.0.1:4040 Forwarding http://78191649.ngrok.io -&gt; localhost:8000 Forwarding https://78191649.ngrok.io -&gt; localhost:8000 Connections ttl opn rt1 rt5 p50 p90 0 0 0.00 0.00 0.00 0.00Notice the “Forwarding” lines, in this case you can see that ngrok created two endpoints for us http://78191649.ngrok.io and https://78191649.ngrok.io for http and https traffic. You will now need to configure your Bot to use these endpoints. Don’t forget to append your route when updating the messaging url, the new url should look like this: https://78191649.ngrok.io/v1/chat Now you can start your server locally &gt; node server.js Listening for incoming requests on port 8000And send messages to your bot over skype, they will be sent by Bot Platform to https://78191649.ngrok.io/v1/chat and ngrok will forward them to your machine. You just need to keep ngrok running.You will see each request logged in the ngrok’s tunnel status table: HTTP Requests ------------- POST /v1/chat 100 Continue POST /v1/chat 201 CreatedIf you are done with testing, you can stop ngrok (Ctrl+C), your agent will stop working as there is nothing to forward the requests to your local server. Note: Free version of ngrok will create a new unique url for you everytime you start it. That means you always need to go back and update the messaging url for your bot. Note: When running locally with ngrok, you need to comment out the call to skype.ensureHttps(true), because your service is not running as https server. × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"AbstractModelType.html":{"id":"AbstractModelType.html","title":"Class: AbstractModelType","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: AbstractModelType AbstractModelType Base class for all the model classes; it must not be instantiated directly new AbstractModelType() Source: calling/model/abstract-model-type.js, line 6 Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Source: messaging/model/abstract-model-type.js, line 16 populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Source: calling/model/abstract-model-type.js, line 16 validate(context) sort of abstract method for validation of the object instances extending this base class Parameters: Name Type Description context Source: messaging/model/abstract-model-type.js, line 53 Throws: when called directly Type TypeError validate() sort of abstract method for validation of the object instances extending this base class Source: calling/model/abstract-model-type.js, line 52 Throws: when called directly Type TypeError Class: AbstractModelType AbstractModelType Base class for all the model classes; it must not be instantiated directly new AbstractModelType() Source: messaging/model/abstract-model-type.js, line 6 Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Source: messaging/model/abstract-model-type.js, line 16 populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Source: calling/model/abstract-model-type.js, line 16 validate(context) sort of abstract method for validation of the object instances extending this base class Parameters: Name Type Description context Source: messaging/model/abstract-model-type.js, line 53 Throws: when called directly Type TypeError validate() sort of abstract method for validation of the object instances extending this base class Source: calling/model/abstract-model-type.js, line 52 Throws: when called directly Type TypeError × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"ActionBase.html":{"id":"ActionBase.html","title":"Class: ActionBase","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: ActionBase ActionBase Base class for various actions; it must not be instantiated directly new ActionBase(inputData, isStandAloneAction) Creates a new ActionBase instance; it is forbidden to call this constructor directly Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Properties: Name Type Description operationId String an operation Id needs to be specified by customer so that they can correlate outcome to the action. It becomes necessary when multiple actions are specified in one response body action String type of action isStandAloneAction Boolean flag to indicate whether this action must not be specified along with any other actions additionalData Object optional. Additional arbitrary data Source: calling/model/actions.js, line 36 Extends AbstractModelType Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/actions.js, line 61 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/actions.js, line 61 Returns: validation errors Type Array Class: ActionBase ActionBase Base class for various actions; it must not be instantiated directly new ActionBase(inputData, isStandAloneAction) Creates a new ActionBase instance; it is forbidden to call this constructor directly Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Properties: Name Type Description operationId String an operation Id needs to be specified by customer so that they can correlate outcome to the action. It becomes necessary when multiple actions are specified in one response body action String type of action isStandAloneAction Boolean flag to indicate whether this action must not be specified along with any other actions additionalData Object optional. Additional arbitrary data Source: calling/model/actions.js, line 36 Extends AbstractModelType Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/actions.js, line 61 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/actions.js, line 61 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"Answer.html":{"id":"Answer.html","title":"Class: Answer","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: Answer Answer This is the action which customers can specify to indicate that the server call bot should accept the call.The media is hosted by the server call bot new Answer(inputData, isStandAloneAction) Creates a new Answer action Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and not part of the action list Properties: Name Type Description AcceptModalityTypes Array.&lt;String&gt; array of CallingModelEnums.ModalityType; The modality types the application will accept, Audio by default Source: calling/model/actions.js, line 82 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 105 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 105 Returns: validation errors Type Array Class: Answer Answer This is the action which customers can specify to indicate that the server call bot should accept the call.The media is hosted by the server call bot new Answer(inputData, isStandAloneAction) Creates a new Answer action Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and not part of the action list Properties: Name Type Description AcceptModalityTypes Array.&lt;String&gt; array of CallingModelEnums.ModalityType; The modality types the application will accept, Audio by default Source: calling/model/actions.js, line 82 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 105 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 105 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"AnswerAppHostedMedia.html":{"id":"AnswerAppHostedMedia.html","title":"Class: AnswerAppHostedMedia","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: AnswerAppHostedMedia AnswerAppHostedMedia This is the action which customers can specify to indicate that the server call bot should accept the call but that theapplication will host the media new AnswerAppHostedMedia(inputData, isStandAloneAction) Creates a new AnswerAppHostedMedia action instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Properties: Name Type Description mediaConfiguration Object opaque object to pass media negotation configuration from the application to the ExecutionAgent Source: calling/model/actions.js, line 128 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 151 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 151 Returns: validation errors Type Array Class: AnswerAppHostedMedia AnswerAppHostedMedia This is the action which customers can specify to indicate that the server call bot should accept the call but that theapplication will host the media new AnswerAppHostedMedia(inputData, isStandAloneAction) Creates a new AnswerAppHostedMedia action instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Properties: Name Type Description mediaConfiguration Object opaque object to pass media negotation configuration from the application to the ExecutionAgent Source: calling/model/actions.js, line 128 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 151 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 151 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"AnswerAppHostedMediaOutcome.html":{"id":"AnswerAppHostedMediaOutcome.html","title":"Class: AnswerAppHostedMediaOutcome","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: AnswerAppHostedMediaOutcome AnswerAppHostedMediaOutcome This class is result of the answerAppHostedMedia action returned back to the customer CallBack url new AnswerAppHostedMediaOutcome(inputData) Creates a new AnswerAppHostedMediaOutcome instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Source: calling/model/operation-outcomes.js, line 63 Extends OperationOutcomeBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: OperationOutcomeBase#validate Source: calling/model/operation-outcomes.js, line 82 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"AnswerOutcome.html":{"id":"AnswerOutcome.html","title":"Class: AnswerOutcome","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: AnswerOutcome AnswerOutcome This class is result of the answer action returned back to the customer CallBack url new AnswerOutcome(inputData) Creates a new AnswerOutcome instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Source: calling/model/operation-outcomes.js, line 97 Extends OperationOutcomeBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: OperationOutcomeBase#validate Source: calling/model/operation-outcomes.js, line 116 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"Attachment.html":{"id":"Attachment.html","title":"Class: Attachment","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: Attachment Attachment The posted attachment details. new Attachment(event) Create an attachment event. Parameters: Name Type Description event Object The object received from Messaging Service. Properties Name Type Description from string The message's sender. to string The message's recipient. Either bot's id or a group id. eventTime number The event sent timestamp. name string The attachment name (optional) attachmentType number The attachment type id string the attachment id that can be used for downloading the content views string the available attachment vires. Properties: Name Type Description from string The message's sender. to string The message's recipient. Either bot's id or a group id. id string The attachment unique identifier attachmentName string The attachment name if any attachmentType string the attachment type views array available attachment 'views' and the sizes. Array of AttachmentViewInfo instances. eventTime string The event sent timestamp in ISO 8601 format. type string The event's type Source: messaging/events/attachment.js, line 19 Extends Event × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"Bot.html":{"id":"Bot.html","title":"Class: Bot","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: Bot Bot Class representing a bot. Passed to event handlers to simplify replying to the creator of the event. new Bot(replyTo, messagingService) Create a bot. Parameters: Name Type Description replyTo string The username to whom the reply should be sent. messagingService MessagingService An instance of messaging service. Source: messaging/bot.js, line 7 Methods reply(content, escape, callback) Send a reply to the user who created the original event.For 1:1 chats it sends the reply to the creator of the original event.For group chats it sends the reply to the group chat. Parameters: Name Type Argument Description content string The content of the message. escape bool &lt;optional&gt; If true, content will be escaped to prevent &quot;&amp;&quot;, &quot;&lt;&quot;, and &quot;&gt;&quot; from breaking the message. callback BotService~sendMessageCallback &lt;optional&gt; The callback that handles the response. Source: messaging/bot.js, line 28 send(to, content, escape, callback) Send a message. Message can be sent to any user or group chat. Parameters: Name Type Argument Description to string The recipient's username. content string The content of the message. If any html tags are present, they need to be valid or escaped (see escape parameter). escape bool &lt;optional&gt; If true, content will be escaped to prevent &quot;&amp;&quot;, &quot;&lt;&quot;, and &quot;&gt;&quot; from breaking the message. callback BotService~sendMessageCallback &lt;optional&gt; The callback that handles the response. Source: messaging/bot.js, line 44 × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"BotService.html":{"id":"BotService.html","title":"Class: BotService","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: BotService BotService BotService unifies events and commands for both messaging and calling. MessagingFor messaging events you can register multiple handlers, becauseprocessing and replying to a message is done asynchronously.Messaging events you can use are the following: contactAdded contactRemoved message personalMessage groupMessage threadBotAdded threadAddMember threadBotRemoved threadRemoveMember threadTopicUpdated threadHistoryDisclosedUpdate attachment For personal and group commands it's necessary to also provide a regular expression,so there are helper function for that. onPersonalCommand() onGroupCommand() CallingCalling events are synchronous and you need to respond to each one.To ensure there is exactly one handler, the interface for these eventsis slightly different and instead of using node.js events we providemethods for registering the handlers like onIncomingCall().The complete list of calling events is as follows: onIncomingCall() onAnswerCompleted() onRejectCompleted() onHangupCompleted() onPlayPromptCompleted() onRecognizeCompleted() onRecordCompleted() onWorkflowValidationCompleted() onCallStateChange() new BotService(configuration) Create a new BotService instance. You don't have to specify both messaging and calling options if you need just one of them. Parameters: Name Type Description configuration Object Bot Platform configuration. Properties Name Type Argument Description messaging Object &lt;optional&gt; Configuration for messaging service. Mandatory only if you want to use messaging service. Properties Name Type Description botId string The bot's id (e.g. &quot;28:trivia_bot&quot;). appId string The bot's application id for OAuth. appSecret string The bot's application secret for OAuth. requestTimeout number The https request timeout in milliseconds. calling Object &lt;optional&gt; Configuration for calling service. Mandatory only if you want to use calling service. Properties Name Type Description callbackUri string The url that will be sent with each request as the callback url. Can be overriden in a workflow for each request. Source: bot-service.js, line 49 Methods getAttachment(attachmentId, viewId, callback) Get content of attachment (binary data). Parameters: Name Type Description attachmentId string The unique attachment identifier received from the response to postAttachment() or from the attachment event. viewId string The identifier of the attachment view (either 'original' or 'thumbnail') available in the attachment's info (AttachmentInfo). callback BotService~attachmentContentCallback The callback that is triggered after the attachment's content is downloaded. Source: bot-service.js, line 222 getAttachmentInfo(attachmentId, callback) Get information about an attachment. Parameters: Name Type Description attachmentId string The unique attachment identifier received from the response to postAttachment() or from the attachment event. callback BotService~attachmentInfoCallback The callback that is called after the information is received. Source: bot-service.js, line 198 onAnswerCompleted(handler) Register handler for the &quot;answer action completed&quot; event (calling). You need to reply with an Answer action to incoming call to answer it.After the Answer action is executed, you will get &quot;answer action completed&quot; event.You need to implement this handler to be able to continue after answering the call. In your handler you will get a ConversationResult object, it contains an operationOutcome field that has all the details about the outcome. For this handler, it will be an instance of AnswerOutcome class. Parameters: Name Type Description handler BotService~callNotificationHandler The event handler. Source: bot-service.js, line 310 onCallStateChange(handler) Register handler for call state change (calling). Parameters: Name Type Description handler BotService~callStateChangeCallback Source: bot-service.js, line 333 onGroupCommand(regex, callback) Register handler for command in group chats (messaging).Callback will be called if there is a message in any group chat that matches the regular expression. Note: If a command is matched, the groupMessage event won't be emitted. Parameters: Name Type Description regex RegExp The regular expression that is used for matching 1:1 messages. callback BotService~commandCallback The callback that is called when a message is matched. Source: bot-service.js, line 124 onHangupCompleted(handler) Register handler for &quot;hangup action completed&quot; event (calling). During the call you can at any time send a Hangup action to end the call.After the Hangup action is executed, you will get the &quot;hangup action completed&quot; event.If you want to do some cleanup after the call is terminated, you need to implement a handler for this event. In your handler you will get a ConversationResult object, it contains an operationOutcome field that has all the details about the outcome. For this handler, it will be an instance of HangupOutcome class. Note: In your handler you still need to call the callback, but don't provide any workflow as the call is already terminated. Parameters: Name Type Description handler BotService~callNotificationHandler The event handler. Source: bot-service.js, line 354 onIncomingCall(Event) Register handler for incoming call (calling). You get an event for each incoming call and it's up to you to decide if youwant to answer or reject the call. You need to implement this handler to beable to answer or reject incoming calls. Parameters: Name Type Description Event CallingBotService~incomingCallHandler handler. Source: bot-service.js, line 381 onPersonalCommand(regex, callback) Register handler for command in 1:1 chats (messaging).Callback will be called if there is a message in any 1:1 that matches the regular expression. Note: If a command is matched, the personalMessage event won't be emitted. Parameters: Name Type Description regex RegExp The regular expression that is used for matching 1:1 messages. callback BotService~commandCallback The callback that is called when a message is matched. Source: bot-service.js, line 107 onPlayPromptCompleted(handler) Register handler for &quot;play prompt action completed&quot; event (calling). The registered handler will be called after a PlayPrompt action is executed. In your handler you will get a ConversationResult object, it contains an operationOutcome field that has all the details about the outcome. For this handler, it will be an instance of PlayPromptOutcome class. Parameters: Name Type Description handler BotService~callNotificationHandler The event handler. Source: bot-service.js, line 398 onRecognizeCompleted(handler) Register handler for &quot;recognize action completed&quot; event (calling). The registered handler will be called after a Recognize action is executed. In your handler you will get a ConversationResult object, it contains an operationOutcome field that has all the details about the outcome. For this handler, it will be an instance of RecognizeOutcome class. Parameters: Name Type Description handler BotService~callNotificationHandler The event handler. Source: bot-service.js, line 415 onRecordCompleted(handler) Register handler for &quot;record action completed&quot; event (calling). The registered handler will be called after a Record action is executed. In your handler you will get a ConversationResult object, it contains an operationOutcome field that has all the details about the outcome. For this handler, it will be an instance of RecordOutcome class. Parameters: Name Type Description handler BotService~recordNotificationHandler The event handler. Source: bot-service.js, line 432 onRejectCompleted(handler) Register handler for &quot;reject action completed&quot; event (calling). The registered handler will be called after an incoming call is rejected. In your handler you will get a ConversationResult object, it contains an operationOutcome field that has all the details about the outcome. For this handler, it will be an instance of RejectOutcome class. Parameters: Name Type Description handler BotService~callNotificationHandler The event handler. Source: bot-service.js, line 449 onWorkflowValidationCompleted(handler) Register handler for &quot;workflow validation completed&quot; event (calling). The &quot;workflow validation completed&quot; event will be emitted only if you sendinvalid Workflow. In your handler you will get a ConversationResult object, it contains an operationOutcome field that has all the details about the outcome. For this handler, it will be an instance of WorkflowValidationOutcome class. Parameters: Name Type Description handler BotService~callNotificationHandler The event handler. Source: bot-service.js, line 467 processCall(content, callback) Process new incoming call. Processes new incoming call and emits a new &quot;incomingCall&quot; event.Will call the handler registered by onIncomingCall(). Parameters: Name Type Description content object The body of the request received from Bot platform. callback BotService~processCallCallback Source: bot-service.js, line 496 processCallback(content, additionalData, callback) Process new incoming callbacks. Process a new incoming callback and call proper event handler. Parameters: Name Type Description content object The body of the request received from Bot platform. additionalData additionalData The additional binary data received from Bot platform. callback BotService~processCallCallback Source: bot-service.js, line 513 processMessagingRequest(request) Process request and emit events (messaging). Parameters: Name Type Description request string | object The body of the request received from messaging service. Source: bot-service.js, line 248 Fires: BotService#event:contactAdded BotService#event:contactRemoved BotService#event:message BotService#event:personalMessage BotService#event:groupMessage BotService#event:threadBotAdded BotService#event:threadAddMember BotService#event:threadBotRemoved BotService#event:threadRemoveMember BotService#event:threadTopicUpdated BotService#event:threadHistoryDisclosedUpdate BotService#event:attachment send(to, content, escape, callback) Send a message. Message can be sent to any user or group chat (messaging). Parameters: Name Type Argument Description to string The recipient's username. content string The content of the message. If any html tags are present, they need to be valid or escaped (see escape parameter). escape bool &lt;optional&gt; If true, content will be escaped to prevent &quot;&amp;&quot;, &quot;&lt;&quot;, and &quot;&gt;&quot; from breaking the message. callback BotService~sendMessageCallback The callback that handles the response. Source: bot-service.js, line 148 sendAttachment(to, name, type, binaryContent, thumbnailContent, callback) Send an attachment (media) to a user or group chat Parameters: Name Type Argument Description to string The username or group id of recipient. name string The attachment's name, null means no name is provided. type string The attachment's type, must be 'Image' or 'Video'. binaryContent Buffer The content that should be sent (binary data). thumbnailContent Buffer &lt;optional&gt; The thumbnail for the sent content (binary data). callback BotService~attachmentSentCallback Callback that is called after the attachment is sent. Source: bot-service.js, line 175 Type Definitions attachmentContentCallback(error, content) Callback for getting content of attachments. Parameters: Name Type Description error Error The error if there was one. content Buffer The content of the blob. Source: bot-service.js, line 206 attachmentInfoCallback(error, attachmentInfo) Callback for sending attachments and getting information about attachments. Parameters: Name Type Description error Error The error if there was one. attachmentInfo AttachmentInfo The received information about the attachment. Source: bot-service.js, line 183 attachmentSentCallback(error, attachmentResponse) Callback for sending attachments. Parameters: Name Type Description error Error The error if there was one. attachmentResponse AttachmentResponse The response received after attachment was sent. Source: bot-service.js, line 156 callNotificationHandler(conversationResult, workflow, callback) Callback to handle calling events. Parameters: Name Type Description conversationResult ConversationResult The result of the last workflow. workflow Workflow The new workflow that should be updated and sent. callback BotService~finishEventHandling The callback to finish the processing of the event. Source: bot-service.js, line 278 callStateChangeCallback(callStateChangeNotification, notificationResponse, callback) Callback to handle call state change. Parameters: Name Type Description callStateChangeNotification CallStateChangeNotification notificationResponse NotificationResponse callback BotService~finishNotificationHandling The event handler. Source: bot-service.js, line 318 commandCallback(bot, request) The callback called when a message matches a registered command. Parameters: Name Type Description bot Bot The bot for replying to the command. request BotService~Message The matched event. Source: messaging/messaging-service.js, line 366 finishEventHandling(error, workflow) Callback to finish processing of events. Parameters: Name Type Description error Error workflow Workflow Source: bot-service.js, line 261 finishNotificationHandling(error, notificationResponse) Callback to finish notification processing. Parameters: Name Type Description error Error notificationResponse NotificationResponse Source: bot-service.js, line 270 incomingCallHandler(conversation, workflow, callback) Callback to handle incoming call (calling). Parameters: Name Type Description conversation Conversation The incoming call. workflow Workflow The workflow for responding to the event. callback BotService~finishEventHandling The callback to finish processing of the event. Source: bot-service.js, line 362 processCallCallback(error, responseMessage) Callback to finish incoming call processing. If there is an error, the server should respond with 500, otherwiseit should return 201 and the responseMessage as the body. Parameters: Name Type Description error Error responseMessage string Source: bot-service.js, line 475 recordNotificationHandler(conversationResult, record, workflow, callback) Callback to handle calling events. Parameters: Name Type Description conversationResult ConversationResult The result of the last workflow. record Buffer The recorded audio in WMA format. workflow Workflow The new workflow that should be updated and sent. callback BotService~finishEventHandling The callback to finish the processing of the event. Source: bot-service.js, line 288 sendMessageCallback(error) Callback is called once the sent message is delivered / failed. Parameters: Name Type Description error Error An error, if sending failed. Source: bot-service.js, line 132 Events attachment This event is emitted when a new attachment is posted. Type: Attachment Source: messaging/events/attachment.js, line 52 contactAdded This event is emitted when users add the agent as a buddy. Example: botkit.on('contactAdded', (bot, event) =&gt; { bot.reply(`Hello ${event.fromDisplayName}, it's great that we are now buddies.`); }); Parameters: Name Type Description bot Bot event ContactNotification Source: messaging/messaging-service.js, line 287 contactRemoved This event is emitted when users removes the agent from his contact list.You won't be able to send a message to the user. Example: botkit.on('contactRemoved', (bot, event) =&gt; { console.log(`We lost user ${event.from}.`); }); Parameters: Name Type Description bot Bot event ContactNotification Source: messaging/messaging-service.js, line 302 groupMessage This event is emitted for every group chat message which isn't handled by any registered command. Parameters: Name Type Description bot Bot event Message Source: messaging/messaging-service.js, line 340 message This event is emitted for every received message. Parameters: Name Type Description bot Bot event Message Source: messaging/messaging-service.js, line 214 personalMessage This event is emitted for every 1:1 chat message which isn't handled by any registered command. Parameters: Name Type Description bot Bot event Message Source: messaging/messaging-service.js, line 331 threadAddMember This event is emitted when some users are added to group chat. Parameters: Name Type Description bot Bot event UserAdded Source: messaging/messaging-service.js, line 235 threadBotAdded This event is emitted when the agent is added to group chat. Parameters: Name Type Description bot Bot event UserAdded Source: messaging/messaging-service.js, line 226 threadBotRemoved This event is emitted when the agent is removed from group chat. Parameters: Name Type Description bot Bot event UserRemoved Source: messaging/messaging-service.js, line 248 threadHistoryDisclosedUpdate This event is emitted when the &quot;history disclosed&quot; option of a group chat is changed. Parameters: Name Type Description bot Bot event HistoryDisclosed Source: messaging/messaging-service.js, line 278 threadRemoveMember This event is emitted when some users are removed from group chat. Parameters: Name Type Description bot Bot event UserRemoved Source: messaging/messaging-service.js, line 257 threadTopicUpdated This event is emitted when the topic of a group chat is updated. Parameters: Name Type Description bot Bot event TopicUpdated Source: messaging/messaging-service.js, line 269 × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"CallBackLink.html":{"id":"CallBackLink.html","title":"Class: CallBackLink","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: CallBackLink CallBackLink Callback link to call back the customer on, once we have performed the set of actions. new CallBackLink(inputData) Creates a new callback link Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description callBack String absolute http or https url Source: calling/model/callback-link.js, line 13 Extends AbstractModelType Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/callback-link.js, line 34 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"CallingService.html":{"id":"CallingService.html","title":"Class: CallingService","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: CallingService CallingService Class representing a calling bot service. Handles communication with Bot platform and emits events. new CallingService(callbackUri) Create a bot service. Parameters: Name Type Description callbackUri string The url that will be sent with each request as the callback url. Can be overriden in a workflow for each request. Source: calling/calling-service.js, line 18 Methods onIncomingCall(Event) Register handler for incoming call. Parameters: Name Type Description Event CallingBotService~incomingCallHandler handler. Source: calling/calling-service.js, line 65 processCall(content, callback) Process new incoming call. Processes new incoming call and emits a new &quot;incomingCall&quot; event. Parameters: Name Type Description content object The body of the request received from Bot platform. callback CallingBotService~processCallCallback Source: calling/calling-service.js, line 121 × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"CallStateChangeNotification.html":{"id":"CallStateChangeNotification.html","title":"Class: CallStateChangeNotification","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: CallStateChangeNotification CallStateChangeNotification This class represents notification when a call state changes new CallStateChangeNotification(inputData) Creates a new CallStateChangeNotification notification Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description currentState String string from CallingModelEnums.CallState; current call state after the change. Source: calling/model/notifications.js, line 56 Extends NotificationBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: NotificationBase#validate Source: calling/model/notifications.js, line 78 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"ChoiceOutcome.html":{"id":"ChoiceOutcome.html","title":"Class: ChoiceOutcome","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: ChoiceOutcome ChoiceOutcome This is a part of the &quot;recognize&quot; action outcome. This is specified if the customer had specified any recognition options. new ChoiceOutcome(inputData) Creates a new ChoiceOutcome instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description completionReason String CallingModelEnums.RecognitionCompletionReason; completion reason of the recognition operation choiceName string choice that was recognized (if any) Source: calling/model/operation-outcomes.js, line 249 Extends AbstractModelType Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/operation-outcomes.js, line 271 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"CollectDigits.html":{"id":"CollectDigits.html","title":"Class: CollectDigits","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: CollectDigits CollectDigits This is part of the &quot;recognize&quot; action. If the customer wants to collect digits - this needs to be specified.Ex: enter 5 digit zip code followed by pound sign.Either maxNumberOfDtmfs or StopTones must be provided but not both. new CollectDigits(inputData) Creates a new collect-digits Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description maxNumberOfDtmfs Number optional. Maximum number of digits expected StopTones Array.&lt;String&gt; optional. Stop tones specified to end collection (each stop tone is a char) Source: calling/model/collect-digits.js, line 18 Extends AbstractModelType Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/collect-digits.js, line 39 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"CollectDigitsOutcome.html":{"id":"CollectDigitsOutcome.html","title":"Class: CollectDigitsOutcome","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: CollectDigitsOutcome CollectDigitsOutcome This is a part of the &quot;recognize&quot; action outcome. This is specified if the customer had specified any collectDigits operation new CollectDigitsOutcome(inputData) Creates a new CollectDigitsOutcome instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description completionReason String CallingModelEnums.DigitCollectionCompletionReason; completion reason of the recognition operation digits string digits collected (if any) Source: calling/model/operation-outcomes.js, line 288 Extends AbstractModelType Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/operation-outcomes.js, line 310 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"ContactNotification.html":{"id":"ContactNotification.html","title":"Class: ContactNotification","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: ContactNotification ContactNotification The bot was added to user's contacts event. new ContactNotification(options) Create an event. Parameters: Name Type Description options Object The object received from Messaging Service. Properties Name Type Description from string The message's sender. to string The message's recipient. Either bot's id or a group id. fromDisplayName string The user's display name, as it appears in their profile. type string The event's type as defined by Bot Platform (&quot;AgentContactNotification&quot;). action string Should decide if user added (&quot;add&quot;) or removed (&quot;removed&quot;) the bot. Currently only &quot;add&quot; is supported. Properties: Name Type Description from string The message's sender. to string The message's recipient. Either bot's id or a group id. fromDisplayName string The user's display name, as it appears in their profile. type string The event's type as defined by Bot Platform (&quot;AgentContactNotification&quot;). action string Should decide if user added (&quot;add&quot;) or removed (&quot;removed&quot;) the bot. Currently only &quot;add&quot; is supported. Source: messaging/events/contact-notification.js, line 16 Extends Event × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"Conversation.html":{"id":"Conversation.html","title":"Class: Conversation","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: Conversation Conversation This class defines the set of the properties that define a conversation.A conversation includes participants, modalities etc.This object is specified in the body of the OnIncomingCall request sent to the client.This object is used to represent both incoming and outgoing conversations. new Conversation(inputData) Creates a new conversation Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description participants Array.&lt;Object&gt; Participant class; array of participants in the conversation isMultiParty Boolean true if the call is a group call threadId String id of the chat thread if isMultiParty is true presentedModalityTypes Array.&lt;String&gt; the modalities present in the call (audio, video, ...) callState String CallingModelEnums.CallState. Current state of the call subject String optional. Subject of the call additionalData Object optional. Additional arbitrary data Source: calling/model/conversation.js, line 75 Extends ConversationBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ConversationBase#validate Source: calling/model/conversation.js, line 104 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"ConversationBase.html":{"id":"ConversationBase.html","title":"Class: ConversationBase","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: ConversationBase ConversationBase This base class defines a basic subset of properties which define a conversation.Conversation class derives from this and adds more properties - they are passed in OnIncomingCallConversationResult class derives from this and adds more properties - they are passed in POST to callback Url to list operation outcomes new ConversationBase(inputData) Creates a new conversationBase when called from the inheriting class. Must not be used directly. Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description id String conversation unique identifier appId String optional. Application Id of the customer appState String optional. Opaque string to facilitate app developers to pass their custom data in this field back in the response links Object optional. Any links we want to surface to the customer for them to invoke us back on. Source: calling/model/conversation.js, line 22 Extends AbstractModelType Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/conversation.js, line 46 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"ConversationResult.html":{"id":"ConversationResult.html","title":"Class: ConversationResult","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: ConversationResult ConversationResult Top class wrapping the result of the last workflow issued by the bot to the Calling service new ConversationResult(inputData) Creates a new conversation result Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description operationOutcome Object The outcome of the last executed action in the previous workflow callState String CallingModelEnums.CallState. Current state of the call. Source: calling/model/conversation.js, line 136 Extends ConversationBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ConversationBase#validate Source: calling/model/conversation.js, line 160 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"Event.html":{"id":"Event.html","title":"Class: Event","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: Event Event The received event. new Event(options) Create an event. Parameters: Name Type Description options Object The object received from Messaging Service. Properties Name Type Description from string The message's sender. to string The message's recipient. Either bot's id or a group id. type string The event's type as defined by Messaging Service. Properties: Name Type Description from string The message's sender. to string The message's recipient. Either bot's id or a group id. type string optional; The event's type as defined by Messaging Service v1 API. Source: messaging/events/event.js, line 10 × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"Hangup.html":{"id":"Hangup.html","title":"Class: Hangup","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: Hangup Hangup This is the action which customers can specify to indicate that the server call bot should hangup the call new Hangup(inputData, isStandAloneAction) Creates a new Hangup action instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Source: calling/model/actions.js, line 177 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 197 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 197 Returns: validation errors Type Array Class: Hangup Hangup This is the action which customers can specify to indicate that the server call bot should hangup the call new Hangup(inputData, isStandAloneAction) Creates a new Hangup action instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Source: calling/model/actions.js, line 177 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 197 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 197 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"HangupOutcome.html":{"id":"HangupOutcome.html","title":"Class: HangupOutcome","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: HangupOutcome HangupOutcome This class is result of the hangup action returned back to the customer CallBack url new HangupOutcome(inputData) Creates a new HangupOutcome instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Source: calling/model/operation-outcomes.js, line 131 Extends OperationOutcomeBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: OperationOutcomeBase#validate Source: calling/model/operation-outcomes.js, line 150 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"HistoryDisclosed.html":{"id":"HistoryDisclosed.html","title":"Class: HistoryDisclosed","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: HistoryDisclosed HistoryDisclosed The thread's history disclosed setting updated event. new HistoryDisclosed(options) Create a history disclosed event. Parameters: Name Type Description options Object The object received from Messaging Service. Properties Name Type Description from string The message's sender. to string The message's recipient. Either bot's id or a group id. historyDisclosed bool Whether the history disclosed setting is turned on or off. eventTime number The event sent timestamp. type string The event's type as defined by Messaging Service (&quot;ThreadHistoryDisclosedUpdate&quot;). Properties: Name Type Description from string The message's sender. to string The message's recipient. Either bot's id or a group id. historyDisclosed bool Whether the history disclosed setting is turned on or off. eventTime number The event sent timestamp. type string The event's type as defined by Messaging Service (&quot;ThreadHistoryDisclosedUpdate&quot;). Source: messaging/events/history-disclosed.js, line 16 Extends Event × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"Message.html":{"id":"Message.html","title":"Class: Message","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: Message Message The received message event. new Message(options) Create a message event. Parameters: Name Type Description options Object The object received from Messaging Service. Properties Name Type Description from string The message's sender. to string The message's recipient. Either bot's id or a group id. content string The content of the message. messageId number The message's ID from Messaging Service. contentType string The content's type as defined by messaging service (&quot;RichText&quot;). eventTime number The event sent timestamp. type string The event's type as defined by messaging service (&quot;Message&quot;). Properties: Name Type Description from string The message's sender. to string The message's recipient. Either bot's id or a group id. content content The content of the message. messageId number The message's ID from Messaging Service. contentType string The content's type as defined by messaging service (&quot;RichText&quot;). eventTime number The event sent timestamp. type string The event's type as defined by Messaging Service (&quot;Message&quot;). Source: messaging/events/message.js, line 18 Extends Event × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"MessagingService.html":{"id":"MessagingService.html","title":"Class: MessagingService","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: MessagingService MessagingService Class representing a messaging service. Handles communication with messaging service and emits events. new MessagingService(options) Create an agent service. Parameters: Name Type Description options Object Configuration for messaging service. For additional optional arguments see MessagingServiceClient and S2SClient. Properties Name Type Description botId string The bot's id (e.g. &quot;28:trivia_agent&quot;). messagingServiceVersion string optional, default 2; version of the messaging service to use siteId number The agent's Site ID, for server to server authentication. key string The path of the private key of the agent in PEM format. Used for server to server authentication. cert string The path of the certificate key of the agent in PEM format. Used for server to server authentication. Source: messaging/messaging-service.js, line 25 Methods getAttachment(attachmentId, viewId, callback) Get content of attachment (binary data). Parameters: Name Type Description attachmentId string The unique attachment identifier received from the response to postAttachment() or from the attachment event. viewId string The identifier of the attachment view (either 'original' or 'thumbnail') available in the attachment's info (AttachmentInfo). callback MessagingServiceClientV2~attachmentContentCallback The callback that is triggered after the attachment's content is downloaded. Source: messaging/messaging-service.js, line 134 getAttachmentInfo(attachmentId, callback) Get information about an attachment. Parameters: Name Type Description attachmentId string The unique attachment identifier received from the response to postAttachment() or from the attachment event. callback MessagingServiceClientV2~attachmentInfoCallback The callback that is called after the information is received. Source: messaging/messaging-service.js, line 119 onGroupCommand(regex, callback) Register handler for command in group chats.Callback will be called if there is a message in any group chat that matches the regular expression. Parameters: Name Type Description regex RegExp The regular exception that is used for matching 1:1 messages. callback BotService~commandCallback The callback that is called when a message is matched. Source: messaging/messaging-service.js, line 74 onPersonalCommand(regex, callback) Register handler for command in 1:1 chats.Callback will be called if there is a message in any 1:1 that matches the regular expression. Parameters: Name Type Description regex RegExp The regular exception that is used for matching 1:1 messages. callback BotService~commandCallback The callback that is called when a message is matched. Source: messaging/messaging-service.js, line 63 processRequest(request) Process request and emit events. Parameters: Name Type Description request string | object The body of the request received from Messaging service. Source: messaging/messaging-service.js, line 159 Fires: BotService#event:contactAdded BotService#event:contactRemoved BotService#event:message BotService#event:personalMessage BotService#event:groupMessage BotService#event:threadBotAdded BotService#event:threadAddMember BotService#event:threadBotRemoved BotService#event:threadRemoveMember BotService#event:threadTopicUpdated BotService#event:threadHistoryDisclosedUpdate send(to, content, escape, callback) Send a message. Message can be sent to any user or group chat. Parameters: Name Type Argument Description to string The recipient's username. content string The content of the message. escape bool &lt;optional&gt; If true, content will be escaped to prevent &quot;&amp;&quot;, &quot;&lt;&quot;, and &quot;&gt;&quot; from breaking the message. callback MessagingServiceClient~sendMessageCallback The callback that handles the response. Source: messaging/messaging-service.js, line 86 sendAttachment(to, name, type, binaryContent, thumbnailContent, callback) Send an attachment (media) to a user or group chat Parameters: Name Type Argument Description to string The username or group id of recipient. name string The attachment's name, null means no name is provided. type string The attachment's type, must be 'Image' or 'Video'. binaryContent Buffer The content that should be sent (binary data). thumbnailContent Buffer &lt;optional&gt; The thumbnail for the sent content (binary data). callback MessagingServiceClientV2~attachmentInfoCallback Callback that is called after the attachment is sent. Source: messaging/messaging-service.js, line 105 × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"NotificationBase.html":{"id":"NotificationBase.html","title":"Class: NotificationBase","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: NotificationBase NotificationBase Base class for all notifications new NotificationBase(inputData) Creates a new NotificationBase instance; must not be called directly Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description notificationType String string from CallingModelEnums.NotificationType; notification type identifier Source: calling/model/notifications.js, line 18 Extends ConversationBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ConversationBase#validate Source: calling/model/notifications.js, line 39 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"NotificationResponse.html":{"id":"NotificationResponse.html","title":"Class: NotificationResponse","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: NotificationResponse NotificationResponse This class contains the response the customer sent for the notification POST to their callback url. new NotificationResponse(inputData) Creates a new notification response Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description links Object optional, Callback. Link to call back the customer on, once we have processed the notification response from customer appState String optional. Opaque string to received in the request additionalData Object optional. Additional arbitrary data Source: calling/model/notifications.js, line 150 Extends AbstractModelType Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/notifications.js, line 175 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"OperationOutcomeBase.html":{"id":"OperationOutcomeBase.html","title":"Class: OperationOutcomeBase","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: OperationOutcomeBase OperationOutcomeBase This base class has set of properties common to all the operation resultsit must not be instantiated directly new OperationOutcomeBase(inputData) Creates a new OperationOutcomeBase instance; it is forbidden to call the constructor directly Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description id String the operation id which was specified when customer specified an action type String string from CallingModelEnums.OutcomeType. Outcome type identifier outcome String string from CallingModelEnums.Outcome. Outcome of the operation failureReason String optional. Reason for failure outcome if any Source: calling/model/operation-outcomes.js, line 19 Extends AbstractModelType Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/operation-outcomes.js, line 44 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"Participant.html":{"id":"Participant.html","title":"Class: Participant","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: Participant Participant Creates a new participantThis can be a participant in any modality in a 2 or multi-party conversation new Participant(inputData) Creates a new participant Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description identity String optional. MRI of the participant, ex : 2:+14258828080 or '8:alice' displayName String optional, display name of participant, ex 'Pepa z depa' languageId String optional, participant language if known originator Boolean whether this participant the originator of the conversation Source: calling/model/participant.js, line 17 Extends AbstractModelType Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/participant.js, line 41 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"PlaceCall.html":{"id":"PlaceCall.html","title":"Class: PlaceCall","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: PlaceCall PlaceCall This is the action which customers can specify to indicate that the server call bot should place an outgoing call new PlaceCall(inputData, isStandAloneAction) Creates a new PlaceCall action instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Properties: Name Type Description source Object Participant; MRI for the source of the call target Object Participant; MRI of the user to whom the call is to be placed subject String optional; subject of the call that is to be placed appId String AppId of the customer initiateModalityTypes Number optional, default: Audio ; the modality types the application want to present Source: calling/model/actions.js, line 218 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 249 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 249 Returns: validation errors Type Array Class: PlaceCall PlaceCall This is the action which customers can specify to indicate that the server call bot should place an outgoing call new PlaceCall(inputData, isStandAloneAction) Creates a new PlaceCall action instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Properties: Name Type Description source Object Participant; MRI for the source of the call target Object Participant; MRI of the user to whom the call is to be placed subject String optional; subject of the call that is to be placed appId String AppId of the customer initiateModalityTypes Number optional, default: Audio ; the modality types the application want to present Source: calling/model/actions.js, line 218 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 249 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 249 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"PlaceCallOutcome.html":{"id":"PlaceCallOutcome.html","title":"Class: PlaceCallOutcome","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: PlaceCallOutcome PlaceCallOutcome This class is result of the placeCall action returned back to the customer CallBack url new PlaceCallOutcome(inputData) Creates a new PlaceCallOutcome instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description acceptedModalityTypes Array.&lt;String&gt; CallingModelEnums.ModalityType; different modalities which were accepted by the remote end Source: calling/model/operation-outcomes.js, line 166 Extends OperationOutcomeBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: OperationOutcomeBase#validate Source: calling/model/operation-outcomes.js, line 188 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"PlayPrompt.html":{"id":"PlayPrompt.html","title":"Class: PlayPrompt","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: PlayPrompt PlayPrompt This is the action which customers can specify to indicate that the server call bot should play/tts out prompt(s) new PlayPrompt(inputData, isStandAloneAction) Creates a new PlayPrompt action instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Properties: Name Type Description prompts Array.&lt;Object&gt; array of Prompt; List of prompts to play out Source: calling/model/actions.js, line 279 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 304 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 304 Returns: validation errors Type Array Class: PlayPrompt PlayPrompt This is the action which customers can specify to indicate that the server call bot should play/tts out prompt(s) new PlayPrompt(inputData, isStandAloneAction) Creates a new PlayPrompt action instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Properties: Name Type Description prompts Array.&lt;Object&gt; array of Prompt; List of prompts to play out Source: calling/model/actions.js, line 279 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 304 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 304 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"PlayPromptOutcome.html":{"id":"PlayPromptOutcome.html","title":"Class: PlayPromptOutcome","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: PlayPromptOutcome PlayPromptOutcome This class is result of the playPrompt action returned back to the customer CallBack url new PlayPromptOutcome(inputData) Creates a new PlayPromptOutcome instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description acceptedModalityTypes Array.&lt;String&gt; CallingModelEnums.ModalityType; different modalities which were accepted by the remote end Source: calling/model/operation-outcomes.js, line 213 Extends OperationOutcomeBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: OperationOutcomeBase#validate Source: calling/model/operation-outcomes.js, line 232 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"Prompt.html":{"id":"Prompt.html","title":"Class: Prompt","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: Prompt Prompt Represents a single prompt.Either value, fileUri or silenceLengthInMilliSeconds must be set, but not value and fileUri simultaneously. new Prompt(inputData) Creates a new prompt Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description value String optional. Text specifying the text to be played or empty if just silence should be played out. fileUri String optional. Url of any media file to be played out. voice String CallingModelEnums.VoiceGender, optional. The voice to use to read the text if &quot;value&quot; is text. culture String CallingModelEnums.Culture, optional. The culture to use to tts out if &quot;value&quot; is text. silenceLengthInMilliSeconds Number optional. Any silence to be played out before playing &quot;value&quot;. If &quot;value&quot; is null, this field must be a valid &gt; 0 value. emphasize Boolean optional. Whether to emphasize when reading text - if &quot;value&quot; is text. sayAs String optional, CallingModelEnums.SayAs. Whether to customize pronunciation when reading text - if &quot;value&quot; is text. Source: calling/model/prompt.js, line 22 Extends AbstractModelType Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/prompt.js, line 50 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"RecognitionOption.html":{"id":"RecognitionOption.html","title":"Class: RecognitionOption","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: RecognitionOption RecognitionOption This is part of the &quot;recognize&quot; action. If the customer wants to speech/dtmf choice based recognition - this needs to be specified.Ex: say &quot;Sales&quot; or enter 1 for Sales department new RecognitionOption(inputData) Creates a new recognition option Parameters: Name Type Description inputData object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description name String Name of the choice. Once a choice matches, this name is conveyed back to the customer in the outcome. speechVariation String optional. Speech variations which form the grammar for the choice ( Ex: Name : &quot;Yes&quot; , SpeechVariation : {&quot;Yes&quot;, &quot;yeah&quot;, &quot;ya&quot;, &quot;yo&quot; ). dtmfVariation Array.&lt;String&gt; optional. Dtmf variations for the choice, Ex: Name : &quot;Yes&quot; , DtmfVariation : {'1'} Source: calling/model/recognition-option.js, line 18 Extends AbstractModelType Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/recognition-option.js, line 41 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"Recognize.html":{"id":"Recognize.html","title":"Class: Recognize","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: Recognize Recognize This is the action which customers can specify to indicate that the server call bot should perform speech or dtmf recognition new Recognize(inputData, isStandAloneAction) Creates a new Recognize action instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Properties: Name Type Description playPrompt Object PlayPrompt; PlayPrompt action to be played out (if any) before recognition starts. Customers can choose to specify &quot;playPrompt&quot; action separately or specify as part of &quot;recognize&quot; - mostly all recognitions are preceeded by a prompt bargeInAllowed Boolean optional, default: true; specifies whether customers are allowed to enter choice before prompt finishes culture String optional, string from CallingModelEnums.Culture, default: EnUs; culture of Speech Recognizer to use InitialSilenceTimeoutinSeconds Number optional, default: 5; Maximum initial silence allowed from the time we start the recognition operation before we timeout and fail the operation (time for the prompt is excluded if any) InterDigitTimeoutInSeconds Number optional, default: 1; Maximum allowed time between digits if we are doing dtmf based choice recognition or CollectDigits recognition choices Array.&lt;Object&gt; array of RecognitionOption, optional; list of choices to recognize against. Choices can be speech or dtmf based choices Array.&lt;Object&gt; array of CollectDigits, optional; There is no choice based recognition. Rather collect all digits entered by user. Either CollectDigits or Choices must be specified. Both can not be specified Source: calling/model/actions.js, line 327 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 360 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 360 Returns: validation errors Type Array validateUniquenessOfChoices() validates whether the choice options in Recognize.choices are unique called automatically as part of validate Source: calling/model/actions.js, line 407 Returns: validation errors Type Array validateUniquenessOfChoices() validates whether the choice options in Recognize.choices are unique called automatically as part of validate Source: calling/model/actions.js, line 407 Returns: validation errors Type Array Class: Recognize Recognize This is the action which customers can specify to indicate that the server call bot should perform speech or dtmf recognition new Recognize(inputData, isStandAloneAction) Creates a new Recognize action instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Properties: Name Type Description playPrompt Object PlayPrompt; PlayPrompt action to be played out (if any) before recognition starts. Customers can choose to specify &quot;playPrompt&quot; action separately or specify as part of &quot;recognize&quot; - mostly all recognitions are preceeded by a prompt bargeInAllowed Boolean optional, default: true; specifies whether customers are allowed to enter choice before prompt finishes culture String optional, string from CallingModelEnums.Culture, default: EnUs; culture of Speech Recognizer to use InitialSilenceTimeoutinSeconds Number optional, default: 5; Maximum initial silence allowed from the time we start the recognition operation before we timeout and fail the operation (time for the prompt is excluded if any) InterDigitTimeoutInSeconds Number optional, default: 1; Maximum allowed time between digits if we are doing dtmf based choice recognition or CollectDigits recognition choices Array.&lt;Object&gt; array of RecognitionOption, optional; list of choices to recognize against. Choices can be speech or dtmf based choices Array.&lt;Object&gt; array of CollectDigits, optional; There is no choice based recognition. Rather collect all digits entered by user. Either CollectDigits or Choices must be specified. Both can not be specified Source: calling/model/actions.js, line 327 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 360 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 360 Returns: validation errors Type Array validateUniquenessOfChoices() validates whether the choice options in Recognize.choices are unique called automatically as part of validate Source: calling/model/actions.js, line 407 Returns: validation errors Type Array validateUniquenessOfChoices() validates whether the choice options in Recognize.choices are unique called automatically as part of validate Source: calling/model/actions.js, line 407 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"RecognizeOutcome.html":{"id":"RecognizeOutcome.html","title":"Class: RecognizeOutcome","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: RecognizeOutcome RecognizeOutcome This class is result of the recognize action returned back to the customer CallBack url new RecognizeOutcome(inputData) Creates a new RecognizeOutcome instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Argument Description choiceOutcome ChoiceOutcome &lt;optional&gt; The result of the choice based recognition if specified in the original action. collectDigitsOutcome CollectDigitsOutcome &lt;optional&gt; The result of the collectDigits recognition if specified in the original action. Source: calling/model/operation-outcomes.js, line 327 Extends OperationOutcomeBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: OperationOutcomeBase#validate Source: calling/model/operation-outcomes.js, line 353 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"Record.html":{"id":"Record.html","title":"Class: Record","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: Record Record This is the action which customers can specify to indicate that the server call bot should start recording user speech new Record(inputData, isStandAloneAction) Creates a new Record action instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Properties: Name Type Description playPrompt Object PlayPrompt; PlayPrompt action to be played (if any) before recognition starts. Customers can choose to specify &quot;playPrompt&quot; action separately or specify as part of &quot;recognize&quot; - mostly all recognitions are preceeded by a prompt maxDurationInSeconds Number optional, default: 180; maximum duration of recording InitialSilenceTimeoutInSeconds Number optional, default: 5; Maximum initial silence allowed from the time we start the recognition operation before we timeout and fail the operation (time for the prompt is excluded if any) maxSilenceTimeoutInSeconds Number optional, default: 1; Maximum allowed silence once the user has started speaking before we conclude the user is done recording recordingFormat String optional, string from CallingModelEnums.RecordingFormat, default: Wma; the format is which the recording is expected transcribe Boolean optional, default: false; if specified &quot;true&quot;, then we would attempt to transcribe the recording. playBeep Boolean optional, true: false; If specified &quot;true&quot;, then we would play a beep before starting recording operation stopTones Array.&lt;String&gt; optional, array of dtmfs chars; stop patterns which users can punch to end recording Source: calling/model/actions.js, line 461 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 495 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 495 Returns: validation errors Type Array Class: Record Record This is the action which customers can specify to indicate that the server call bot should start recording user speech new Record(inputData, isStandAloneAction) Creates a new Record action instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Properties: Name Type Description playPrompt Object PlayPrompt; PlayPrompt action to be played (if any) before recognition starts. Customers can choose to specify &quot;playPrompt&quot; action separately or specify as part of &quot;recognize&quot; - mostly all recognitions are preceeded by a prompt maxDurationInSeconds Number optional, default: 180; maximum duration of recording InitialSilenceTimeoutInSeconds Number optional, default: 5; Maximum initial silence allowed from the time we start the recognition operation before we timeout and fail the operation (time for the prompt is excluded if any) maxSilenceTimeoutInSeconds Number optional, default: 1; Maximum allowed silence once the user has started speaking before we conclude the user is done recording recordingFormat String optional, string from CallingModelEnums.RecordingFormat, default: Wma; the format is which the recording is expected transcribe Boolean optional, default: false; if specified &quot;true&quot;, then we would attempt to transcribe the recording. playBeep Boolean optional, true: false; If specified &quot;true&quot;, then we would play a beep before starting recording operation stopTones Array.&lt;String&gt; optional, array of dtmfs chars; stop patterns which users can punch to end recording Source: calling/model/actions.js, line 461 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 495 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 495 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"RecordOutcome.html":{"id":"RecordOutcome.html","title":"Class: RecordOutcome","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: RecordOutcome RecordOutcome This class is result of the record action returned back to the customer CallBack url new RecordOutcome(inputData) Creates a new RecordOutcome instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description outcome String string from CallingModelEnums.Outcome. Outcome of the operation completionReason String CallingModelEnums.RecordingCompletionReason; completion reason of the record operation lengthOfRecordingInSecs Number if recording was successful, this indicates length of recorded audio transcription Object TranscriptionOutcome class; if transcription was requested, this indicates transcription outcome Source: calling/model/operation-outcomes.js, line 458 Extends OperationOutcomeBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: OperationOutcomeBase#validate Source: calling/model/operation-outcomes.js, line 485 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"Reject.html":{"id":"Reject.html","title":"Class: Reject","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: Reject Reject This is the action which customers can specify to indicate that the server call bot should reject the call new Reject(inputData, isStandAloneAction) Creates a new Reject action instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Source: calling/model/actions.js, line 528 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 548 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 548 Returns: validation errors Type Array Class: Reject Reject This is the action which customers can specify to indicate that the server call bot should reject the call new Reject(inputData, isStandAloneAction) Creates a new Reject action instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Source: calling/model/actions.js, line 528 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 548 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 548 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"RejectOutcome.html":{"id":"RejectOutcome.html","title":"Class: RejectOutcome","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: RejectOutcome RejectOutcome This class is result of the reject action returned back to the customer CallBack url new RejectOutcome(inputData) Creates a new RejectOutcome instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Source: calling/model/operation-outcomes.js, line 513 Extends OperationOutcomeBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: OperationOutcomeBase#validate Source: calling/model/operation-outcomes.js, line 532 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"RosterParticipant.html":{"id":"RosterParticipant.html","title":"Class: RosterParticipant","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: RosterParticipant RosterParticipant Represents a participant within a RosterUpdateNotification notification. new RosterParticipant(inputData) Creates a new roster participant Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description identity String optional. MRI of the participant mediaStreamDirection String direction of the media (send, receive, ...). mediaType String optional, CallingModelEnums.ModalityType. Participant media type (audio, video, ...). Source: calling/model/roster-participant.js, line 16 Extends AbstractModelType Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/roster-participant.js, line 39 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"RosterUpdateNotification.html":{"id":"RosterUpdateNotification.html","title":"Class: RosterUpdateNotification","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: RosterUpdateNotification RosterUpdateNotification This class represents notification when list of call participant changes new RosterUpdateNotification(inputData) Creates a new RosterUpdateNotification notification Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description participants Array.&lt;Object&gt; optional, array of RosterParticipant. Full list of the participants after the change. Source: calling/model/notifications.js, line 100 Extends NotificationBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: NotificationBase#validate Source: calling/model/notifications.js, line 124 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"TopicUpdated.html":{"id":"TopicUpdated.html","title":"Class: TopicUpdated","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: TopicUpdated TopicUpdated The thread's topic updated event. new TopicUpdated(options) Create a topic updated event. Parameters: Name Type Description options Object The object received from Messaging Service. Properties Name Type Description from string The user who modified the thread's topic. to string The id of the group which topic was updated. topic string The new topic. eventTime number The event sent timestamp. type string The event's type as defined by Messaging Service (&quot;NewTopic&quot;). Properties: Name Type Description from string The user who modified the thread's topic. to string The id of the group which topic was updated. topic string The new topic. eventTime number The event sent timestamp. type string The event's type as defined by Messaging Service (&quot;NewTopic&quot;). Source: messaging/events/topic-updated.js, line 16 Extends Event × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"TranscriptionOutcome.html":{"id":"TranscriptionOutcome.html","title":"Class: TranscriptionOutcome","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: TranscriptionOutcome TranscriptionOutcome If transcription was requested in the &quot;record&quot; action, this is the outcome included in the &quot;recordOutcome&quot; new TranscriptionOutcome(inputData) Creates a new TranscriptionOutcome instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description outcome String string from CallingModelEnums.Outcome. Outcome of the operation completionReason String CallingModelEnums.TranscriptionCompletionReason; completion reason of the record operation text String text transcription if the recognize action was successful hasProfanity Boolean if the transcription text has profane words tagged by 'profane' tag confidence String string from CallingModelEnums.Confidence. Confidence of the transcription if successful Source: calling/model/operation-outcomes.js, line 403 Extends AbstractModelType Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/operation-outcomes.js, line 428 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"Transfer.html":{"id":"Transfer.html","title":"Class: Transfer","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: Transfer Transfer This is the action which customers can specify to indicate that the server call bot should transfer establishedcall. The transfer is attended - meaning if the transfer fails the bot is able to still interact with caller.If transfer succeeds the call is automatically hang up. new Transfer(inputData, isStandAloneAction) Creates a new Transfer action Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Properties: Name Type Description target Object Participant class; new call recipient Source: calling/model/actions.js, line 567 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 591 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 591 Returns: validation errors Type Array Class: Transfer Transfer This is the action which customers can specify to indicate that the server call bot should transfer establishedcall. The transfer is attended - meaning if the transfer fails the bot is able to still interact with caller.If transfer succeeds the call is automatically hang up. new Transfer(inputData, isStandAloneAction) Creates a new Transfer action Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Properties: Name Type Description target Object Participant class; new call recipient Source: calling/model/actions.js, line 567 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 591 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 591 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"TransferOutcome.html":{"id":"TransferOutcome.html","title":"Class: TransferOutcome","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: TransferOutcome TransferOutcome This class is result of the transfer action returned back to the customer CallBack url new TransferOutcome(inputData) Creates a new TransferOutcome instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Source: calling/model/operation-outcomes.js, line 546 Extends OperationOutcomeBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: OperationOutcomeBase#validate Source: calling/model/operation-outcomes.js, line 565 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"UserAdded.html":{"id":"UserAdded.html","title":"Class: UserAdded","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: UserAdded UserAdded The user/bot added to group chat event. new UserAdded(options) Create a user/bot added to group chat event. Parameters: Name Type Description options Object The object received from Messaging Service. Properties Name Type Description from string The message's sender. to string The message's recipient. Either bot's id or a group id. targets Array.&lt;string&gt; The list of added users (usernames). eventTime number The event sent timestamp. type string The event's type as defined by Messaging Service (&quot;ThreadAddMember&quot;). Properties: Name Type Description from string The user who added (removed) other users to (from) group chat. to string The group id of the modified group. targets Array.&lt;string&gt; The list of added users (usernames). eventTime number The event sent timestamp. type string The event's type as defined by Messaging Service (&quot;ThreadAddMember&quot;). Source: messaging/events/user-added.js, line 16 Extends Event × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"UserRemoved.html":{"id":"UserRemoved.html","title":"Class: UserRemoved","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: UserRemoved UserRemoved The user/bot removed from group chat event. new UserRemoved(options) Create a user/bot removed from group chat event. Parameters: Name Type Description options Object The object received from Messaging Service. Properties Name Type Description from string The message's sender. to string The message's recipient. Either bot's id or a group id. targets Array.&lt;string&gt; The list of removed users (usernames). eventTime number The event sent timestamp. type string The event's type as defined by Messaging Service (&quot;ThreadRemoveMember&quot;). Properties: Name Type Description from string The user who added (removed) other users to (from) group chat. to string The group id of the modified group. targets Array.&lt;string&gt; The list of added users (usernames). eventTime number The event sent timestamp. type string The event's type as defined by Messaging Service (&quot;ThreadAddMember&quot;). Source: messaging/events/user-removed.js, line 16 Extends Event × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"VideoSubscription.html":{"id":"VideoSubscription.html","title":"Class: VideoSubscription","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: VideoSubscription VideoSubscription This is the action that is used for video subscription whatever it is new VideoSubscription(inputData, isStandAloneAction) Creates a new VideoSubscription action Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Properties: Name Type Description appState String optional. Opaque string to facilitate app developers to pass their custom data in this field back in the response socketId Number sequence ID of video socket. Index from 0-9 participantIdentity String optional, default: null; identity of the participant whose video is pinned if VideoMode is set to manual videoResolution String optional, string from CallingModelEnums.ResolutionFormat, default: Sd360p; indicates the video resolution format videoModality String optional, string from CallingModelEnums.ModalityType, default: Unknown; indicates whether the video is from the camera or from screen sharing videoSubscriptionMode String optional, string from CallingModelEnums.VideoSubscriptionMode, default: Manual; videoMode indicates whether the socket is pinned to a particular participant Source: calling/model/actions.js, line 627 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 655 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 655 Returns: validation errors Type Array Class: VideoSubscription VideoSubscription This is the action that is used for video subscription whatever it is new VideoSubscription(inputData, isStandAloneAction) Creates a new VideoSubscription action Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. isStandAloneAction Object true if the action is isolated and must not be part of the action list Properties: Name Type Description appState String optional. Opaque string to facilitate app developers to pass their custom data in this field back in the response socketId Number sequence ID of video socket. Index from 0-9 participantIdentity String optional, default: null; identity of the participant whose video is pinned if VideoMode is set to manual videoResolution String optional, string from CallingModelEnums.ResolutionFormat, default: Sd360p; indicates the video resolution format videoModality String optional, string from CallingModelEnums.ModalityType, default: Unknown; indicates whether the video is from the camera or from screen sharing videoSubscriptionMode String optional, string from CallingModelEnums.VideoSubscriptionMode, default: Manual; videoMode indicates whether the socket is pinned to a particular participant Source: calling/model/actions.js, line 627 Extends ActionBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: ActionBase#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 655 Returns: validation errors Type Array validate(context) validates the object instance Parameters: Name Type Description context Overrides: ActionBase#validate Source: calling/model/actions.js, line 655 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"VideoSubscriptionOutcome.html":{"id":"VideoSubscriptionOutcome.html","title":"Class: VideoSubscriptionOutcome","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: VideoSubscriptionOutcome VideoSubscriptionOutcome This class is result of the videoSubscription action returned back to the customer CallBack url new VideoSubscriptionOutcome(inputData) Creates a new VideoSubscriptionOutcome instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Source: calling/model/operation-outcomes.js, line 579 Extends OperationOutcomeBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: OperationOutcomeBase#validate Source: calling/model/operation-outcomes.js, line 598 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"Workflow.html":{"id":"Workflow.html","title":"Class: Workflow","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: Workflow Workflow This class contains the workflow the customer sent for the OnInComingCall POST or any subsequent POST to their callback url.Basically this workflow defines the set of actions, the customer wants us to perform and then callback to them. new Workflow(inputData) Creates a new workflow Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Properties: Name Type Description actions String list of actions to perform . ex : playPrompt, record, hangup links Object optional. Callback link to call back the customer on, once we have performed the set of actions appState String optional. Opaque string to facilitate app developers to pass their custom data in this field . This field is echo'd back in the 'result' POST for this 'workflow' notificationSubscriptions String optional. Registration to notification updates. Registration to CallingModelEnums.NotificationType.CallStateChange must be set as is by default, rosterUpdate is relevant only for multiparty calls. additionalData Object optional. Additional arbitrary data Source: calling/model/workflow.js, line 22 Extends AbstractModelType Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Overrides: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: AbstractModelType#validate Source: calling/model/workflow.js, line 49 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "},"WorkflowValidationOutcome.html":{"id":"WorkflowValidationOutcome.html","title":"Class: WorkflowValidationOutcome","body":" Skype Bot SDK for Node.js Classes AbstractModelTypeActionBaseAnswerAnswerAppHostedMediaAnswerAppHostedMediaOutcomeAnswerOutcomeAttachmentBotBotServiceCallBackLinkCallingServiceCallStateChangeNotificationChoiceOutcomeCollectDigitsCollectDigitsOutcomeContactNotificationConversationConversationBaseConversationResultEventHangupHangupOutcomeHistoryDisclosedMessageMessagingServiceNotificationBaseNotificationResponseOperationOutcomeBaseParticipantPlaceCallPlaceCallOutcomePlayPromptPlayPromptOutcomePromptRecognitionOptionRecognizeRecognizeOutcomeRecordRecordOutcomeRejectRejectOutcomeRosterParticipantRosterUpdateNotificationTopicUpdatedTranscriptionOutcomeTransferTransferOutcomeUserAddedUserRemovedVideoSubscriptionVideoSubscriptionOutcomeWorkflowWorkflowValidationOutcome Events BotService#event:attachmentBotService#event:contactAddedBotService#event:contactRemovedBotService#event:groupMessageBotService#event:messageBotService#event:personalMessageBotService#event:threadAddMemberBotService#event:threadBotAddedBotService#event:threadBotRemovedBotService#event:threadHistoryDisclosedUpdateBotService#event:threadRemoveMemberBotService#event:threadTopicUpdated Global incomingCallbackHandlerincomingCallHandlerinstantiateActioninstantiateNotificationinstantiateOperationOutcomemessagingHandler Class: WorkflowValidationOutcome WorkflowValidationOutcome If the customer's &quot;response&quot; fails validation, this is the outcome conveyed to the customer CallBack Url new WorkflowValidationOutcome(inputData) Creates a new WorkflowValidationOutcome instance Parameters: Name Type Description inputData Object the object received from Calling service, or null if constructing from scratch. Source: calling/model/operation-outcomes.js, line 612 Extends OperationOutcomeBase Methods populatePlainInput(inputData, objectClasses) Copies attributes from generic javascript object to the corresponding instance attributes, including instantiation of appropriate classes for class-specific attributes Parameters: Name Type Description inputData Object the input javascript object, perhaps deserialized JSON from the Calling service objectClasses Object helper object which maps content attribute names to proper constructors of their respective classes Inherited From: AbstractModelType#populatePlainInput Source: calling/model/abstract-model-type.js, line 16 validate(context) validates the object instance Parameters: Name Type Description context Overrides: OperationOutcomeBase#validate Source: calling/model/operation-outcomes.js, line 631 Returns: validation errors Type Array × Search results Close Documentation generated by JSDoc 3.4.0 on Tue Mar 29th 2016 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
